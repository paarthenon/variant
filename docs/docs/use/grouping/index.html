<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.1.0 plugin-docs plugin-id-default docs-doc-id-use/grouping">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Grouping | Variant</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://paarthenon.github.io/variant/docs/use/grouping"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.1.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.1.0"><meta data-rh="true" name="docsearch:version" content="2.1.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.1.0"><meta data-rh="true" property="og:title" content="Grouping | Variant"><meta data-rh="true" name="description" content="A variant&#x27;s possible cases are most useful in context. The variant for Diamonds could mean any number of things, but the intended meaning becomes clear when Diamonds ♦ is placed next to Spades ♠, Hearts ♥, and Clubs ♣. In general we call this collection of tag constructors the Variant Module. This module can be constructed in several ways and every method is compatible with the others. Feel free to mix and match styles as the situation dictates."><meta data-rh="true" property="og:description" content="A variant&#x27;s possible cases are most useful in context. The variant for Diamonds could mean any number of things, but the intended meaning becomes clear when Diamonds ♦ is placed next to Spades ♠, Hearts ♥, and Clubs ♣. In general we call this collection of tag constructors the Variant Module. This module can be constructed in several ways and every method is compatible with the others. Feel free to mix and match styles as the situation dictates."><link data-rh="true" rel="icon" href="/variant/img/variant.ico"><link data-rh="true" rel="canonical" href="https://paarthenon.github.io/variant/docs/use/grouping"><link data-rh="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/use/grouping" hreflang="en"><link data-rh="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/use/grouping" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/variant/blog/rss.xml" title="Variant RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/variant/blog/atom.xml" title="Variant Atom Feed"><link rel="stylesheet" href="/variant/assets/css/styles.b9ae0410.css">
<link rel="preload" href="/variant/assets/js/runtime~main.9f57bcc0.js" as="script">
<link rel="preload" href="/variant/assets/js/main.fb419d95.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/variant/"><div class="navbar__logo"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Variant</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/variant/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/variant/docs/about">About</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/variant/docs/intro">2.1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/variant/docs/next/intro">3.0.0-dev 🔨</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/variant/docs/use/grouping">2.1.0</a></li></ul></div><a class="navbar__item navbar__link" href="/variant/docs/api">☕ API</a><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/variant/docs/intro">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/variant/docs/use/variant">User Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/variant">Variant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/variant/docs/use/grouping">Grouping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/matching">Matching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/filter">Filtering &amp; Analyzing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/advanced-creation">Advanced Creation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/redux">React + Redux ⚛️</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/cheat">Cheat Sheet</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/variant/docs/articles/that-type">Articles</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/variant/docs/api">☕ API</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/variant/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">User Guide</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Grouping</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.1.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Grouping</h1></header><p>A variant&#x27;s possible cases are most useful <em>in context</em>. The variant for <code>Diamonds</code> could mean any number of things, but the intended meaning becomes clear when <code>Diamonds ♦</code> is placed next to <code>Spades ♠</code>, <code>Hearts ♥</code>, and <code>Clubs ♣</code>. In general we call this collection of tag constructors the <strong>Variant Module</strong>. This module can be constructed in several ways and every method is compatible with the others. Feel free to mix and match styles as the situation dictates.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-direct-approach">The Direct Approach<a href="#the-direct-approach" class="hash-link" aria-label="Direct link to The Direct Approach" title="Direct link to The Direct Approach">​</a></h3><p>The underlying type of every variant module will be a simple JavaScript object. The keys of this object will be the names of the variant&#x27;s types (its tags), and the values will be the tag constructors. You can make this object yourself.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    dog: </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;dog&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, favoriteBall</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">    cat: </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;cat&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, daysSinceDamage</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">    snake: </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;snake&#x27;</span><span style="color:#D6DBDB">, (</span><span style="color:#FFFFFF">name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">})),</span></div><div class="line"><span style="color:#D6DBDB">};</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">    dog: variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    cat: variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">daysSinceDamage</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    snake: variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">snake</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">};</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>But as you&#x27;ll see, you&#x27;ll often use <code>variantModule</code> or <code>variantList</code> instead, two functions that save a little time and headache.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="variantmodule"><code>variantModule()</code><a href="#variantmodule" class="hash-link" aria-label="Direct link to variantmodule" title="Direct link to variantmodule">​</a></h3><p>The <code>variantModule()</code> function resolves two minor issues with what we just saw, and is the <strong>recommended</strong> way to create such modules.</p><ol><li>The names of each type are no longer duplicated.</li><li>There aren&#x27;t any more tedious <code>variant(...)</code> calls.</li></ol><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantModule</span><span style="color:#D6DBDB">({</span></div><div class="line highlight"><span style="color:#D6DBDB">    dog: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, favoriteBall</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line dim"><span style="color:#D6DBDB">    cat: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, daysSinceDamage</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line dim"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB">: (</span><span style="color:#FFFFFF">name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">}),</span></div><div class="line dim"><span style="color:#D6DBDB">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantModule</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line highlight"><span style="color:#FFFFFF">    dog: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line dim"><span style="color:#FFFFFF">    cat: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">daysSinceDamage</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line dim"><span style="color:#FFFFFF">    snake: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line dim"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>To create a type with no body, include the property name but set it to the empty object, <code>{}</code>.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span></div><div class="line"><span style="color:#D6DBDB">    bird: {},</span></div><div class="line"><span style="color:#D6DBDB">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span></div><div class="line"><span style="color:#FFFFFF">    bird: </span><span style="color:#A8A8B1">{}</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>You may also provide <code>nil</code>, or <code>undefined</code>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="variantlist"><code>variantList()</code><a href="#variantlist" class="hash-link" aria-label="Direct link to variantlist" title="Direct link to variantlist">​</a></h3><p>The <code>variantList()</code> function allows the user to use an <em>array</em> of variants instead of an object. The elements of this array may be calls to the <code>variant()</code> function <em>or</em> a string. Providing the string <code>&#x27;Diamonds&#x27;</code> is equivalent to calling <code>variant(&#x27;Diamonds&#x27;)</code> This function offers two main advantages:</p><ol><li><p>composition of existing variants</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">WingedAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">bird</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">pegasus</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">]);</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">WingedAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.bird,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.pegasus,</span></div><div class="line"><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></li><li><p>the ability to use strings to quickly initialize enum-like variants.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Suit</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span><span style="color:#63A5A5">&#x27;Spades&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;Hearts&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;Clubs&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;Diamonds&#x27;</span><span style="color:#D6DBDB">]),</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Suit</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Spades</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Hearts</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Clubs</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Diamonds</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="so-why-use-the-direct-approach">So why use the direct approach?<a href="#so-why-use-the-direct-approach" class="hash-link" aria-label="Direct link to So why use the direct approach?" title="Direct link to So why use the direct approach?">​</a></h3><p>If <code>variantModule()</code> and <code>variantList()</code> are so convenient, why make the object literal yourself?</p><p>Well, two reasons.</p><ol><li><p><strong>You&#x27;re mixing styles.</strong> <code>variantList()</code> is better suited for scooping up specific forms and passing them on, so we might use this to save ourselves effort while building the <code>Mammal</code> module by pulling from the <code>Animal</code> module we created earlier.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Mammal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    squirrel: </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;squirrel&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{numAcorns</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">dog</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">cat</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    ]);</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Mammal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">    squirrel: variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">squirrel</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">numAcorns</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span><span style="color:#FFFFFF">variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.dog,</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.cat,</span></div><div class="line"><span style="color:#FFFFFF">    ]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></li><li><p><strong>Your property names and type names are different.</strong> In these examples my type names are pretty simple and are also valid property names. Depending on the conventions of your codebase this may not be possible. </p><p>Legacy support may be needed to achieve continuity with data from the time java programmers would toss around <code>ALL_CAPS_MESSAGE_CONSTANTS</code> with no regard to the fact that may become unfashionable someday. <em>The nerve</em>.</p><p>In some react projects, actions or other variant types are <em>scoped</em>, or <em>namespaced</em>, resulting in type names like <code>@action/ADD_ANIMAL</code>. This is not a valid property name and so it may be desirable to use a more friendly name as the key.. </p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Action</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    addAnimal: </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;@action/ADD_ANIMAL&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">payload</span><span style="color:#D6DBDB">&lt;Animal&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">    callAnimal: </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;@action/CALL_ANIMAL_BY_NAME&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Action</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">    addAnimal: variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">@action/ADD_ANIMAL</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, payload</span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565">Animal</span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    callAnimal: variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">@action/CALL_ANIMAL_BY_NAME</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span></div><div class="line"><span style="color:#FFFFFF">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>It&#x27;s much easier to call <code>Action.addAnimal(...)</code> than <code>Action[&#x27;@action/ADD_ANIMAL&#x27;](...)</code>. Rest assured the variant library functions have all been designed to work with the <em>actual</em> type of the generated object, even when that made the type signatures of those functions really frustrating to write.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="checking-for-membership">Checking for membership<a href="#checking-for-membership" class="hash-link" aria-label="Direct link to Checking for membership" title="Direct link to Checking for membership">​</a></h2><p>You may want to determine whether or not an object out in the wild is an <code>Animal</code> or not. Use the <code>isOfVariant</code> function to do so.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">declare</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">var</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">x</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">object</span><span style="color:#D6DBDB">;</span></div><div class="line"></div><div class="line"><span style="color:#9BB7A7">if</span><span style="color:#D6DBDB"> (</span><span style="color:#F9F7F1">isOfVariant</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">x</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">)) {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">console</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">log</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;Found animal named&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">x</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">);</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">declare</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">var</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">x</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">object</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">if</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">isOfVariant</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">x</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">Animal</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">console</span><span style="color:#FFFFFF">.log</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Found animal named</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">x</span><span style="color:#FFFFFF">.name</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Note this is operating under the assumption you have relatively unique names for your variants. This isn&#x27;t inspecting the object structure, just the <code>type</code> property.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ad-hoc-matching">Ad-hoc matching<a href="#ad-hoc-matching" class="hash-link" aria-label="Direct link to Ad-hoc matching" title="Direct link to Ad-hoc matching">​</a></h3><p>It&#x27;s easy to construct a variant module on the fly with <code>variantList</code>. This will still be a valid comparison. </p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">if</span><span style="color:#D6DBDB"> (</span><span style="color:#F9F7F1">isOfVariant</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">x</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">cat</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">dog</span><span style="color:#D6DBDB">]))) {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">console</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">log</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;Received a four legged animal&#x27;</span><span style="color:#D6DBDB">);</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">if</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">isOfVariant</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">x</span><span style="color:#FFFFFF">, variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.cat, </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.dog]</span><span style="color:#A8A8B1">)))</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">console</span><span style="color:#FFFFFF">.log</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Received a four legged animal</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h2 class="anchor anchorWithStickyNavbar_LWe7" id="subsets-and-combinations">Subsets and Combinations<a href="#subsets-and-combinations" class="hash-link" aria-label="Direct link to Subsets and Combinations" title="Direct link to Subsets and Combinations">​</a></h2><p>Getting to the &quot;Algebra&quot; of algebraic data types, variants can be mixed and matched in a number of ways.</p><blockquote><p>🧙 If you have a functional programming background, <em><code>variant()</code> is a factory function to generate tag constructors of <a href="https://www.cs.cornell.edu/courses/cs3110/2019sp/textbook/data/polymorphic_variants.html" target="_blank" rel="noopener noreferrer">polymorphic variants</a>.</em> If you don&#x27;t have a functional programming background, ignore that sentence.</p></blockquote><p>Let&#x27;s begin with an expanded version of the <code>Animal</code> variant we&#x27;ve been using:</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantModule</span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    dog: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, favoriteBall</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    cat: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, daysSinceDamage</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB">: (</span><span style="color:#FFFFFF">name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">}),</span></div><div class="line"><span style="color:#D6DBDB">    pegasus: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{color</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, magicType</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;Arcane&#x27;</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">|</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;Divine&#x27;</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    bird: </span><span style="color:#FFFFFF">nil</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">}</span></div><div class="line"><span style="color:#9BB7A7">...</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantModule</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    dog: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    cat: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">daysSinceDamage</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    snake: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    pegasus: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">color</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">magicType</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Arcane</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">|</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Divine</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    bird: </span><span style="color:#F56565">nil</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span></div><div class="line"><span style="color:#A8A8B1">...</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_LWe7" id="subsets">Subsets<a href="#subsets" class="hash-link" aria-label="Direct link to Subsets" title="Direct link to Subsets">​</a></h3><p>Note the new <code>pegasus</code> and <code>bird</code> cases. These neatly fit into a new subcategory, <code>WingedAnimal</code>.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">WingedAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">bird</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">pegasus</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">]);</span></div><div class="line"></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">flap</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">animal</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> WingedAnimal) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> {</span><span style="color:#9BB7A7">...</span><span style="color:#D6DBDB">} </span></div><div class="line"></div><div class="line"><span style="color:#9BB7A7">if</span><span style="color:#D6DBDB"> (</span><span style="color:#F9F7F1">isOfVariant</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">WingedAnimal</span><span style="color:#D6DBDB">)) {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#506565">// a is now known to be an WingedAnimal</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#506565">// so this is safe.</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">flap</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">a</span><span style="color:#D6DBDB">);</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">WingedAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.bird,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.pegasus,</span></div><div class="line"><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> flap </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">WingedAnimal)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span><span style="color:#A8A8B1">...</span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">if</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">isOfVariant</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">WingedAnimal</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> a is now known to be an WingedAnimal</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> so this is safe.</span></div><div class="line"><span style="color:#FFFFFF">    flap</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">a</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Our privileged pegasus can also claim membership to the group of animals with four legs.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">FourLeggedAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">cat</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">dog</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">pegasus</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">]);</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">FourLeggedAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.cat,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.dog,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.pegasus,</span></div><div class="line"><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>By maintaining a subset like <code>WingedAnimal</code> as its own type you gain the ability to write functions that are scoped to <code>WingedAnimal</code>. Any changes to <code>WingedAnimal</code> are centralized, and will cause the compiler to inform you of any handlers that don&#x27;t process the new cases.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="combinations">Combinations<a href="#combinations" class="hash-link" aria-label="Direct link to Combinations" title="Direct link to Combinations">​</a></h3><p>We could also have constructed this in the other direction—creating the subsets first and then combining them into the final <code>Animal</code> object. The pegasus being both winged and four legged makes our current set of animals difficult to work with. For this example we&#x27;ll use a different setup.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">LandAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantModule</span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    dog: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, favoriteBall</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    cat: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, daysSinceDamage</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">});</span></div><div class="line"></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">WaterAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantModule</span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    goldfish: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{memoryInSeconds</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">LandAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantModule</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    dog: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    cat: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">daysSinceDamage</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">WaterAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantModule</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    goldfish: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">memoryInSeconds</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>From this point it&#x27;s easy to create the combined set of <code>Animal</code>.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span><span style="color:#FFFFFF">LandAnimal</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span><span style="color:#FFFFFF">WaterAnimal</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">};</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span><span style="color:#F56565">LandAnimal</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span><span style="color:#F56565">WaterAnimal</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">};</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>A new list (perhaps <code>SkyAnimal</code>) could be added in the future and it would simply be another entry next to <code>LandAnimal</code> and <code>WaterAnimal</code>. We could complicate this yet further with a new genre-bending list of animals, <code>AmphibiousAnimals</code>.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">AmphibiousAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;frog&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{color</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">]);</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">AmphibiousAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span></div><div class="line"><span style="color:#FFFFFF">    variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">frog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, fields</span><span style="color:#A8A8B1">&lt;{</span><span style="color:#F56565">color</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string}&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Amphibious animals may be encountered in both <em>water</em> and on <em>land</em>. How should this be expressed? It may be tempting to merge <code>AmphibiousAnimal</code> into the lists of <code>LandAnimal</code> and <code>WaterAnimal</code>, but that would be a step backward because we then lose the ability to identify <em>land only</em> or <em>water only</em> animals. </p><p>The better approach would be to use our friend the union type. Remember that variants are designed to work with vanilla typescript and will work seamlessly with <a href="https://www.typescriptlang.org/docs/handbook/unions-and-intersections.html" target="_blank" rel="noopener noreferrer">union and intersection types</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="variants-in-a-union-type">Variants in a union type<a href="#variants-in-a-union-type" class="hash-link" aria-label="Direct link to Variants in a union type" title="Direct link to Variants in a union type">​</a></h3><p>Assume there is a function that was meant to handle animals encountered on land. It took a parameter <code>animal: LandAnimal</code>. To expand its scope, change the type of the parameter from <code>LandAnimal</code> to <code>LandAnimal | AmphibiousAnimal</code>. TypeScript will understand that <code>frog</code> is now a valid case your your <code>match</code> or <code>switch</code> statements will have to handle.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#506565">// I&#x27;m sorry</span></div><div class="line"><span style="color:#C24E4B">function</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">runoverAnimal</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">roadKill</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> LandAnimal </span><span style="color:#9BB7A7">|</span><span style="color:#D6DBDB"> AmphibiousAnimal) {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">roadKill</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1">dog</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`Don&#x27;t make me go there :(.`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1">cat</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`Poor </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">...`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1">frog</span><span style="color:#D6DBDB">: </span><span style="color:#FFFFFF">_</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;Was that a frog?&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    })</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> I&#x27;m sorry</span></div><div class="line"><span style="color:#A8A8B1">function</span><span style="color:#FFFFFF"> runoverAnimal</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">roadKill</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">LandAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">|</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">AmphibiousAnimal)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">roadKill</span><span style="color:#FFFFFF">, {</span></div><div class="line"><span style="color:#FFFFFF">        dog: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">Don&#x27;t make me go there :(.</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        cat: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">Poor ${</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">}...</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        frog: </span><span style="color:#F56565">_</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Was that a frog?</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    }</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_LWe7" id="q--a">Q &amp; A<a href="#q--a" class="hash-link" aria-label="Direct link to Q &amp; A" title="Direct link to Q &amp; A">​</a></h3><ul><li><p><strong>Should I use singular or plural names for modules?</strong></p><ul><li>Do you want to write <code>Animal.dog(...)</code> or <code>Animals.dog(...)</code>? Personally I like singular because it makes type annotations read more clearly. I like <code>x: Animal</code> over <code>x: Animals</code>, since that value is singular. Nothing breaks if you go plural.</li></ul></li><li><p><strong>Should I make a type for each variant module?</strong></p><ul><li><p>I do. This gives you the <code>Animal</code> and <code>Animal&lt;&#x27;cat&#x27;&gt;</code> types, which are quite convenient and improve ergonomics by offering intellisense. One of my motivations in writing this library was to simplify the fragile process of discriminant union creation and type generation for my team. Again, your consumers, including your own team members using your types, do not experience this complexity.</p><p>Some users find the full type intimidating or just plain frustrating. <code>VariantOf</code> is designed with a simpler form is common in the community:</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> Animal </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> VariantOf&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">&gt;;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">VariantOf</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>I admit this is much clearer for the average TypeScript user. You retain <code>Animal</code>, but lose <code>Animal&lt;&#x27;cat&#x27;&gt;</code>. You can compute <code>Animal&lt;&#x27;cat&#x27;&gt;</code> through <code>Extract&lt;Animal, {type: &#x27;cat&#x27;}&gt;</code>. The disadvantage here is you lose the restrictions on the type property (&#x27;cat&#x27;), and autocomplete with it. So if at some point your application changes from <code>cat</code> to <code>feline</code>, <code>Animal&lt;&#x27;cat&#x27;&gt;</code> will now raise an error to alert you that it needs updating. <code>Extract&lt;Animal, {type: &#x27;cat&#x27;}&gt;</code> would not.</p><p><a href="/variant/docs/articles/that-type">See the type page explanation</a>.</p></li></ul></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/variant/docs/use/variant"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Variant</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/variant/docs/use/matching"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Matching</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-direct-approach" class="table-of-contents__link toc-highlight">The Direct Approach</a></li><li><a href="#variantmodule" class="table-of-contents__link toc-highlight"><code>variantModule()</code></a></li><li><a href="#variantlist" class="table-of-contents__link toc-highlight"><code>variantList()</code></a></li><li><a href="#so-why-use-the-direct-approach" class="table-of-contents__link toc-highlight">So why use the direct approach?</a></li><li><a href="#checking-for-membership" class="table-of-contents__link toc-highlight">Checking for membership</a><ul><li><a href="#ad-hoc-matching" class="table-of-contents__link toc-highlight">Ad-hoc matching</a></li></ul></li><li><a href="#subsets-and-combinations" class="table-of-contents__link toc-highlight">Subsets and Combinations</a><ul><li><a href="#subsets" class="table-of-contents__link toc-highlight">Subsets</a></li><li><a href="#combinations" class="table-of-contents__link toc-highlight">Combinations</a></li><li><a href="#variants-in-a-union-type" class="table-of-contents__link toc-highlight">Variants in a union type</a></li><li><a href="#q--a" class="table-of-contents__link toc-highlight">Q &amp; A</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/variant/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/api">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Related</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">TypeScript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://reasonml.github.io/docs/en/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item">ReasonML Variants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.npmjs.com/package/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item">NPM package<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Variant Contributors</div></div></div></footer></div>
<script src="/variant/assets/js/runtime~main.9f57bcc0.js"></script>
<script src="/variant/assets/js/main.fb419d95.js"></script>
</body>
</html>