<!doctype html>
<html class="docs-version-2.1.0" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="alternate" type="application/rss+xml" href="/variant/blog/rss.xml" title="Variant RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/variant/blog/atom.xml" title="Variant Atom Feed"><title data-react-helmet="true">React + Redux ‚öõÔ∏è | Variant</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://paarthenon.github.io/variant/docs/use/redux"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.1.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.1.0"><meta data-react-helmet="true" property="og:title" content="React + Redux ‚öõÔ∏è | Variant"><meta data-react-helmet="true" name="description" content="Variant works seamlessly with react and redux. Create your actions as a variant just like you would anything else. It should Just Work‚Ñ¢ as an action type for your reducers. You can create async task creators by simply using an async function in your variant definition."><meta data-react-helmet="true" property="og:description" content="Variant works seamlessly with react and redux. Create your actions as a variant just like you would anything else. It should Just Work‚Ñ¢ as an action type for your reducers. You can create async task creators by simply using an async function in your variant definition."><link data-react-helmet="true" rel="shortcut icon" href="/variant/img/variant.ico"><link data-react-helmet="true" rel="canonical" href="https://paarthenon.github.io/variant/docs/use/redux"><link data-react-helmet="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/use/redux" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/use/redux" hreflang="x-default"><link rel="stylesheet" href="/variant/assets/css/styles.8f6f238e.css">
<link rel="preload" href="/variant/assets/js/runtime~main.c4bae73e.js" as="script">
<link rel="preload" href="/variant/assets/js/main.dd3a7da7.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/variant/"><div class="navbar__logo"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Variant</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/variant/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/variant/docs/about">About</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/variant/docs/intro">2.1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/variant/docs/next/intro">3.0.0-dev üî®</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/variant/docs/use/redux">2.1.0</a></li></ul></div><a class="navbar__item navbar__link" href="/variant/docs/api">‚òï API</a><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">üåí</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">üåî</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">User Guide</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/variant">Variant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/grouping">Grouping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/matching">Matching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/filter">Filtering &amp; Analyzing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/advanced-creation">Advanced Creation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/variant/docs/use/redux">React + Redux ‚öõÔ∏è</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/cheat">Cheat Sheet</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Articles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/variant/docs/api">‚òï API</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->2.1.0</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>React + Redux ‚öõÔ∏è</h1></header><p><strong>Variant</strong> works seamlessly with <a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer">react</a> and <a href="https://redux.js.org/" target="_blank" rel="noopener noreferrer">redux</a>. Create your actions as a variant just like you would anything else. It should Just Work‚Ñ¢ as an action type for your reducers. You can create async task creators by simply using an async function in your <a href="/variant/docs/api#variant"><code>variant</code></a> definition.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Other libraries</h5></div><div class="admonition-content"><p>Sometimes users familiar with action creators will ask about <strong><code>redux-toolkit</code></strong> and which library they should use. I&#x27;ll take a moment here to go over the differences, but <em>you do not need to pick one</em>. These libraries can work together. I recommend you keep using <code>redux-toolkit</code> for it&#x27;s configuration features like <code>configureStore()</code>, middleware, etc, but you complete ignore <code>createAction()</code> and use <code>variant()</code> instead for your actions. Consider also using it to express your domain models. As you&#x27;ll soon see, Variant and React are a <em>match</em> made in heaven ü§£.</p><p>Redux-toolkit is meant to be opinionated and is specifically scoped to redux. Variant, in contrast, does not care what stack you use and is dedicated to expressing complex domains without getting in your way. Even if that includes <strong>async</strong>, <strong>generic</strong>, or <strong>recursive</strong> variants. Action creators are only a starting point, this library is also great for creating messages and branching options. Variant&#x27;s full cast of supporting functions makes it possible to more easily construct and process these models.</p></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="the-money-">The Money üèÜ<a aria-hidden="true" class="hash-link" href="#the-money-" title="Direct link to heading">‚Äã</a></h2><p>I&#x27;m going to jump straight to the beautiful part. By expressing an element of your state as a variant, you gain the ability to <code>match</code> on that state information for type-safe and exhaustive conditional rendering with a <em>pretty</em> slick syntax.</p><p>Here&#x27;s an example from a media manager I&#x27;m writing.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#506565">/**</span></div><div class="line"><span style="color:#506565"> * Render a series of file attributes (size, resolution, etc.)</span></div><div class="line"><span style="color:#506565"> */</span></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">AttributeList</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> React.FC&lt;{attributes</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Attribute[]}&gt; </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF">attributes</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">  </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> (</span></div><div class="line"><span style="color:#D6DBDB">    &lt;div&gt;</span></div><div class="line"><span style="color:#D6DBDB">      {</span><span style="color:#FFFFFF">attributes</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">map</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">attr</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=&gt;</span><span style="color:#D6DBDB"> (</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#9BB7A7">&lt;</span><span style="color:#FFFFFF">Badge</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">key</span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB">{attr.</span><span style="color:#FFFFFF">type</span><span style="color:#D6DBDB">}</span><span style="color:#9BB7A7">&gt;</span></div><div class="line"><span style="color:#D6DBDB">          {</span><span style="color:#FFFFFF">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">attr</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">            Filename: ({</span><span style="color:#FFFFFF">payload</span><span style="color:#D6DBDB">}) </span><span style="color:#9BB7A7">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`filename: </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">payload</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">            Resolution: ({</span><span style="color:#FFFFFF">width</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">height</span><span style="color:#D6DBDB">}) </span><span style="color:#9BB7A7">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`resolution: </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">width</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> x </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">height</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">            CreatedDate: ({</span><span style="color:#FFFFFF">payload</span><span style="color:#D6DBDB">}) </span><span style="color:#9BB7A7">=&gt;</span><span style="color:#D6DBDB"> &lt;&gt;</span></div><div class="line"><span style="color:#D6DBDB">              &lt;</span><span style="color:#FFFFFF">Icon</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">icon</span><span style="color:#9BB7A7">=</span><span style="color:#63A5A5">&#x27;calendar&#x27;</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">/&gt;</span></div><div class="line"><span style="color:#D6DBDB">              created: {</span><span style="color:#FFFFFF">renderDate</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">payload</span><span style="color:#D6DBDB">)}</span></div><div class="line"><span style="color:#D6DBDB">            &lt;/&gt;,</span></div><div class="line"><span style="color:#D6DBDB">          })}</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#9BB7A7">&lt;/</span><span style="color:#FFFFFF">Badge</span><span style="color:#9BB7A7">&gt;</span></div><div class="line"><span style="color:#D6DBDB">      ))}</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">&lt;/</span><span style="color:#FFFFFF">div</span><span style="color:#9BB7A7">&gt;</span></div><div class="line"><span style="color:#D6DBDB">  )</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">/**</span></div><div class="line"><span style="color:#FFFFFF"> * Render a series of file attributes (size, resolution, etc.)</span></div><div class="line"><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">*/</span></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> AttributeList</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">React</span><span style="color:#FFFFFF">.</span><span style="color:#A8A8B1">FC&lt;{</span><span style="color:#F56565">attributes</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Attribute</span><span style="color:#FFFFFF">[]</span><span style="color:#A8A8B1">}&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">attributes</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">  </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span></div><div class="line"><span style="color:#FFFFFF">    &lt;</span><span style="color:#F56565">div</span><span style="color:#FFFFFF">&gt;</span></div><div class="line"><span style="color:#FFFFFF">      </span><span style="color:#A8A8B1">{</span><span style="color:#F56565">attributes</span><span style="color:#FFFFFF">.</span><span style="color:#F56565">map</span><span style="color:#FFFFFF">(</span><span style="color:#F56565">attr</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565">Badge</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">key</span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF">{attr.</span><span style="color:#F56565">type</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;</span></div><div class="line"><span style="color:#FFFFFF">          </span><span style="color:#A8A8B1">{</span><span style="color:#F56565">match</span><span style="color:#FFFFFF">(</span><span style="color:#F56565">attr</span><span style="color:#FFFFFF">, </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">            </span><span style="color:#F56565">Filename</span><span style="color:#FFFFFF">: (</span><span style="color:#A8A8B1">{</span><span style="color:#F56565">payload</span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF">) </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">filename: ${</span><span style="color:#F56565">payload</span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">            </span><span style="color:#F56565">Resolution</span><span style="color:#FFFFFF">: (</span><span style="color:#A8A8B1">{</span><span style="color:#F56565">width</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">height</span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF">) </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">resolution: ${</span><span style="color:#F56565">width</span><span style="color:#A8A8B1">} x ${</span><span style="color:#F56565">height</span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">            </span><span style="color:#F56565">CreatedDate</span><span style="color:#FFFFFF">: (</span><span style="color:#A8A8B1">{</span><span style="color:#F56565">payload</span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF">) </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> &lt;&gt;</span></div><div class="line"><span style="color:#FFFFFF">              &lt;</span><span style="color:#F56565">Icon</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">icon</span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">calendar</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">/&gt;</span></div><div class="line"><span style="color:#FFFFFF">              </span><span style="color:#F56565">created</span><span style="color:#FFFFFF">: </span><span style="color:#A8A8B1">{</span><span style="color:#F56565">renderDate</span><span style="color:#FFFFFF">(</span><span style="color:#F56565">payload</span><span style="color:#FFFFFF">)</span><span style="color:#A8A8B1">}</span></div><div class="line"><span style="color:#FFFFFF">            &lt;/&gt;,</span></div><div class="line"><span style="color:#FFFFFF">          </span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF">)</span><span style="color:#A8A8B1">}</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">&lt;/</span><span style="color:#F56565">Badge</span><span style="color:#A8A8B1">&gt;</span></div><div class="line"><span style="color:#FFFFFF">      </span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">)</span><span style="color:#A8A8B1">}</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">&lt;/</span><span style="color:#F56565">div</span><span style="color:#A8A8B1">&gt;</span></div><div class="line"><span style="color:#FFFFFF">  </span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Note the degrees of flexibility shown here:</p><ul><li>the component rendered fundamentally different kinds of data (strings, numbers, dates).</li><li>each case has independent control over its rendering.<ul><li>an icon is only added for <em>some</em> of the options.</li></ul></li><li>refactor with ease. Adding a new attribute type will add warnings to update this component as well.</li></ul><p>Edge cases are typically difficult to express and process. Variants make them trivial. Simply add a new possibility to the variant module (<code>Attribute</code>). The compiler will inform you of every class or component that then needs updating. These edge cases can have completely different types of data than every case before them. </p><p>Even if there were two attribute types with the same structure, they could be handled differently. For example, the handler branch for <code>Filesize</code> could run <code>renderSize(size: number): string</code> on the payload to show something like <code>3.51 MB</code> while the handler branch for <code>AccessCount</code> knows not to bother.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="grouping">Grouping<a aria-hidden="true" class="hash-link" href="#grouping" title="Direct link to heading">‚Äã</a></h2><p>The lesson on grouping will come into play here. As your application becomes more complex you may want to separate your actions into subsets. Variant will allow you to capture those with simple types and combine them. Since we build on core TypeScript features we can perform unions and intersections on these types as you&#x27;d expect.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="action"><code>Action</code><a aria-hidden="true" class="hash-link" href="#action" title="Direct link to heading">‚Äã</a></h3><p>My overall <code>Action</code> type is usually a composite of all my other action variants.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Action</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">  </span><span style="color:#9BB7A7">...</span><span style="color:#FFFFFF">GameAction</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">  </span><span style="color:#9BB7A7">...</span><span style="color:#FFFFFF">DebugAction</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">};</span></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> Action&lt;T </span><span style="color:#9BB7A7">extends</span><span style="color:#D6DBDB"> TypeNames&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Action</span><span style="color:#D6DBDB">&gt; </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">undefined</span><span style="color:#D6DBDB">&gt; </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> VariantOf&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Action</span><span style="color:#D6DBDB">, T&gt;;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Action</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">  </span><span style="color:#A8A8B1">...</span><span style="color:#F56565">GameAction</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">  </span><span style="color:#A8A8B1">...</span><span style="color:#F56565">DebugAction</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">};</span></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Action</span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565">T</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">extends</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">TypeNames</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Action</span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">undefined&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">VariantOf</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Action</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">T</span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>This pattern allows me to create reducers that target specifically the subvariants <code>GameAction</code>, <code>DebugAction</code>.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="isofvariant">isOfVariant<a aria-hidden="true" class="hash-link" href="#isofvariant" title="Direct link to heading">‚Äã</a></h3><p>In these more complex cases it will be useful to judge if an object is one of your <code>Action</code> types ‚Äî either the main set or one of your subsets. In such a scenario <a href="/variant/docs/api#isOfVariant"><code>isOfVariant</code></a> can play a significant role. This function will help narrow your action to a more specific type.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">rootReducer</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">state</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">initState</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">action</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> GameAction </span><span style="color:#9BB7A7">|</span><span style="color:#D6DBDB"> DebugAction) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">isOfVariant</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">DebugActions</span><span style="color:#D6DBDB">) </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">debugReducer</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">state</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">isOfVariant</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">GameAction</span><span style="color:#D6DBDB">) </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">gameReducer</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">state</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">state</span></div><div class="line"><span style="color:#D6DBDB">    ;</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> rootReducer </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">state</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">initState</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">action</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">GameAction</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">|</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">DebugAction)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> isOfVariant</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">action</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">DebugActions</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> debugReducer</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">state</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">action</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> isOfVariant</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">action</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">GameAction</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> gameReducer</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">state</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">action</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">state</span></div><div class="line"><span style="color:#FFFFFF">    ;</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h2 class="anchor anchorWithStickyNavbar_31ik" id="hooks">Hooks<a aria-hidden="true" class="hash-link" href="#hooks" title="Direct link to heading">‚Äã</a></h2><p>I often use a variant to capture view or app <em>modes</em>. Let&#x27;s say I&#x27;ve got a View type that could be set to either <code>Home</code> or a user&#x27;s <code>Profile</code> page. Home is the same no matter what, but viewing someone&#x27;s profile means I need a user ID to reference.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> View </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">  type</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;Home&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">|</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">  type</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;Profile&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">  id</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB"> </span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">View</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">  </span><span style="color:#F56565">type</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Home</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">|</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">  </span><span style="color:#F56565">type</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Profile</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">  </span><span style="color:#F56565">id</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF"> </span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_31ik" id="usestate"><code>useState</code><a aria-hidden="true" class="hash-link" href="#usestate" title="Direct link to heading">‚Äã</a></h3><p>In a simple application, this view might just be switching between tabs and the state for that would be stored in the component.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> [</span><span style="color:#FFFFFF">view</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">setView</span><span style="color:#D6DBDB">] </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">useState</span><span style="color:#D6DBDB">&lt;View&gt;(</span><span style="color:#FFFFFF">View</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">Home</span><span style="color:#D6DBDB">());</span></div><div class="line"></div><div class="line"><span style="color:#9BB7A7">...</span></div><div class="line"></div><div class="line"><span style="color:#F9F7F1">setView</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">View</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">Profile</span><span style="color:#D6DBDB">(</span><span style="color:#4EADAD">42</span><span style="color:#D6DBDB">));</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">[</span><span style="color:#F56565">view</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">setView</span><span style="color:#A8A8B1">]</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> useState</span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565">View</span><span style="color:#A8A8B1">&gt;(</span><span style="color:#F56565">View</span><span style="color:#FFFFFF">.Home</span><span style="color:#A8A8B1">())</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">...</span></div><div class="line"></div><div class="line"><span style="color:#FFFFFF">setView</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">View</span><span style="color:#FFFFFF">.Profile</span><span style="color:#A8A8B1">(42))</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Thanks to the variant&#x27;s payload when it is time to render a profile, we&#x27;ll know which ID to include in the API call.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="redux-official-example">Redux Official Example<a aria-hidden="true" class="hash-link" href="#redux-official-example" title="Direct link to heading">‚Äã</a></h2><p>So here is <a href="https://redux.js.org/basics/example" target="_blank" rel="noopener noreferrer">the official redux example</a> in vanilla javascript.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#506565">// Before (not using variant)</span></div><div class="line"><span style="color:#C24E4B">let</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">nextTodoId</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">0</span></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">addTodo</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">text</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span></div><div class="line"><span style="color:#D6DBDB">  type: </span><span style="color:#63A5A5">&#x27;ADD_TODO&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">  id: </span><span style="color:#FFFFFF">nextTodoId</span><span style="color:#9BB7A7">++</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">  </span><span style="color:#FFFFFF">text</span></div><div class="line"><span style="color:#D6DBDB">})</span></div><div class="line"></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">setVisibilityFilter</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">filter</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span></div><div class="line"><span style="color:#D6DBDB">  type: </span><span style="color:#63A5A5">&#x27;SET_VISIBILITY_FILTER&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">  </span><span style="color:#FFFFFF">filter</span></div><div class="line"><span style="color:#D6DBDB">})</span></div><div class="line"></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">toggleTodo</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span></div><div class="line"><span style="color:#D6DBDB">  type: </span><span style="color:#63A5A5">&#x27;TOGGLE_TODO&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">  </span><span style="color:#FFFFFF">id</span></div><div class="line"><span style="color:#D6DBDB">})</span></div><div class="line"></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">VisibilityFilters</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">  SHOW_ALL: </span><span style="color:#63A5A5">&#x27;SHOW_ALL&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">  SHOW_COMPLETED: </span><span style="color:#63A5A5">&#x27;SHOW_COMPLETED&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">  SHOW_ACTIVE: </span><span style="color:#63A5A5">&#x27;SHOW_ACTIVE&#x27;</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> Before (not using variant)</span></div><div class="line"><span style="color:#A8A8B1">let</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">nextTodoId</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">0</span></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> addTodo </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">text</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">  type: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">ADD_TODO</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">  id: </span><span style="color:#F56565">nextTodoId</span><span style="color:#A8A8B1">++</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">  </span><span style="color:#F56565">text</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> setVisibilityFilter </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">filter</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">  type: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">SET_VISIBILITY_FILTER</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">  </span><span style="color:#F56565">filter</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> toggleTodo </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">id</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">  type: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">TOGGLE_TODO</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">  </span><span style="color:#F56565">id</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">VisibilityFilters</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">  SHOW_ALL: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">SHOW_ALL</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">  SHOW_COMPLETED: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">SHOW_COMPLETED</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">  SHOW_ACTIVE: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">SHOW_ACTIVE</span><span style="color:#FFFFFF">&#x27;</span></div><div class="line"><span style="color:#FFFFFF">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#506565">// After</span></div><div class="line"><span style="color:#C24E4B">let</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">nextTodoId</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">0</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Action</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantModule</span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">addTodo</span><span style="color:#D6DBDB">: (</span><span style="color:#FFFFFF">text</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span></div><div class="line"><span style="color:#D6DBDB">        id: </span><span style="color:#FFFFFF">nextTodoId</span><span style="color:#9BB7A7">++</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#FFFFFF">text</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    }),</span></div><div class="line"><span style="color:#D6DBDB">    toggleTodo: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{id</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    setVisibilityFilter: </span><span style="color:#F9F7F1">payload</span><span style="color:#D6DBDB">&lt;VisibilityFilters&gt;(), </span></div><div class="line"><span style="color:#D6DBDB">});</span></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> Action&lt;T </span><span style="color:#9BB7A7">extends</span><span style="color:#D6DBDB"> TypeNames&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Action</span><span style="color:#D6DBDB">&gt; </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">undefined</span><span style="color:#D6DBDB">&gt; </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> VariantOf&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Action</span><span style="color:#D6DBDB">, T&gt;;</span></div><div class="line"></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">VisibilityFilters</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">strEnum</span><span style="color:#D6DBDB">([</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#63A5A5">&#x27;SHOW_ALL&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#63A5A5">&#x27;SHOW_COMPLETED&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#63A5A5">&#x27;SHOW_ACTIVE&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">});</span></div><div class="line"><span style="color:#FFFFFF">export</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">type</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">VisibilityFilters</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">keyof</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">VisibilityFilters</span><span style="color:#D6DBDB">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> After</span></div><div class="line"><span style="color:#A8A8B1">let</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">nextTodoId</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">0</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Action</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantModule</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    addTodo: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">text</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">        id: </span><span style="color:#F56565">nextTodoId</span><span style="color:#A8A8B1">++</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565">text</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    }</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    toggleTodo: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">id</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    setVisibilityFilter: payload</span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565">VisibilityFilters</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">, </span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Action</span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565">T</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">extends</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">TypeNames</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Action</span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">undefined&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">VariantOf</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Action</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">T</span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">VisibilityFilters</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> strEnum</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">SHOW_ALL</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">SHOW_COMPLETED</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">SHOW_ACTIVE</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">});</span></div><div class="line"><span style="color:#F56565">export</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">VisibilityFilters</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">keyof</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">VisibilityFilters</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>The second sample gives more type information and an easy way to access the type of an action (<code>Action&lt;&#x27;addTodo&#x27;&gt;</code>) while also being shorter. The reducer is where things get interesting. Here&#x27;s <a href="https://redux.js.org/basics/example/#reducerstodosjs" target="_blank" rel="noopener noreferrer">the official redux example reducer</a>.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#506565">// Before (not using variant)</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">todos</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">state</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> [], </span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">  </span><span style="color:#9BB7A7">switch</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">type</span><span style="color:#D6DBDB">) {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">case</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;ADD_TODO&#x27;</span><span style="color:#D6DBDB">:</span></div><div class="line"><span style="color:#D6DBDB">      </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> [</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#9BB7A7">...</span><span style="color:#FFFFFF">state</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        {</span></div><div class="line"><span style="color:#D6DBDB">          id: </span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">          text: </span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">text</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">          completed: </span><span style="color:#9BB7A7">false</span></div><div class="line"><span style="color:#D6DBDB">        }</span></div><div class="line"><span style="color:#D6DBDB">      ]</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">case</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;TOGGLE_TODO&#x27;</span><span style="color:#D6DBDB">:</span></div><div class="line"><span style="color:#D6DBDB">      </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">state</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">map</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">todo</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#FFFFFF">todo</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">===</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> { </span><span style="color:#9BB7A7">...</span><span style="color:#FFFFFF">todo</span><span style="color:#D6DBDB">, completed: </span><span style="color:#9BB7A7">!</span><span style="color:#FFFFFF">todo</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">completed</span><span style="color:#D6DBDB"> } </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">todo</span></div><div class="line"><span style="color:#D6DBDB">      )</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">default</span><span style="color:#D6DBDB">:</span></div><div class="line"><span style="color:#D6DBDB">      </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">state</span></div><div class="line"><span style="color:#D6DBDB">  }</span></div><div class="line"><span style="color:#D6DBDB">}</span></div><div class="line"></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">default</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">todos</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> Before (not using variant)</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> todos </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">state</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> [], </span><span style="color:#F56565">action</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">  </span><span style="color:#A8A8B1">switch</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">action</span><span style="color:#FFFFFF">.type</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">case</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">ADD_TODO</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">:</span></div><div class="line"><span style="color:#FFFFFF">      </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> [</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">...</span><span style="color:#F56565">state</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        {</span></div><div class="line"><span style="color:#FFFFFF">          id: </span><span style="color:#F56565">action</span><span style="color:#FFFFFF">.id,</span></div><div class="line"><span style="color:#FFFFFF">          text: </span><span style="color:#F56565">action</span><span style="color:#FFFFFF">.text,</span></div><div class="line"><span style="color:#FFFFFF">          completed: </span><span style="color:#A8A8B1">false</span></div><div class="line"><span style="color:#FFFFFF">        }</span></div><div class="line"><span style="color:#FFFFFF">      ]</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">case</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">TOGGLE_TODO</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">:</span></div><div class="line"><span style="color:#FFFFFF">      </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">state</span><span style="color:#FFFFFF">.map</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">todo</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565">todo</span><span style="color:#FFFFFF">.id </span><span style="color:#A8A8B1">===</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">action</span><span style="color:#FFFFFF">.id </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> { </span><span style="color:#A8A8B1">...</span><span style="color:#F56565">todo</span><span style="color:#FFFFFF">, completed: </span><span style="color:#A8A8B1">!</span><span style="color:#F56565">todo</span><span style="color:#FFFFFF">.completed } </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">todo</span></div><div class="line"><span style="color:#FFFFFF">      </span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">default</span><span style="color:#A8A8B1">:</span></div><div class="line"><span style="color:#FFFFFF">      </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">state</span></div><div class="line"><span style="color:#FFFFFF">  </span><span style="color:#A8A8B1">}</span></div><div class="line"><span style="color:#A8A8B1">}</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">default</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">todos</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#506565">// After</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">initialState</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Todo[] </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> [];</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">todos</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">state</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">initialState</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">action</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Action) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">addTodo</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">text</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> [</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#9BB7A7">...</span><span style="color:#FFFFFF">state</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        { </span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">text</span><span style="color:#D6DBDB">, completed: </span><span style="color:#9BB7A7">false</span><span style="color:#D6DBDB"> }</span></div><div class="line"><span style="color:#D6DBDB">    ],</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">toggleTodo</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">state</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">map</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">todo</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#FFFFFF">todo</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">===</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> {</span><span style="color:#9BB7A7">...</span><span style="color:#FFFFFF">todo</span><span style="color:#D6DBDB">, completed: </span><span style="color:#9BB7A7">!</span><span style="color:#FFFFFF">todo</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">completed</span><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">todo</span></div><div class="line"><span style="color:#D6DBDB">    ),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">setVisibilityFilter</span><span style="color:#D6DBDB">: () </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">state</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> After</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">initialState</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Todo</span><span style="color:#FFFFFF">[] </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> [];</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> todos </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">state</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">initialState</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">action</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Action)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">action</span><span style="color:#FFFFFF">, {</span></div><div class="line"><span style="color:#FFFFFF">    addTodo: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">id</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">text</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> [</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">...</span><span style="color:#F56565">state</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        { </span><span style="color:#F56565">id</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">text</span><span style="color:#FFFFFF">, completed: </span><span style="color:#A8A8B1">false</span><span style="color:#FFFFFF"> }</span></div><div class="line"><span style="color:#FFFFFF">    ],</span></div><div class="line"><span style="color:#FFFFFF">    toggleTodo: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">id</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">state</span><span style="color:#FFFFFF">.map</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">todo</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565">todo</span><span style="color:#FFFFFF">.id </span><span style="color:#A8A8B1">===</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">id</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> {</span><span style="color:#A8A8B1">...</span><span style="color:#F56565">todo</span><span style="color:#FFFFFF">, completed: </span><span style="color:#A8A8B1">!</span><span style="color:#F56565">todo</span><span style="color:#FFFFFF">.completed} </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">todo</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    setVisibilityFilter: </span><span style="color:#A8A8B1">()</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">state</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>It&#x27;s very nice to having exhaustiveness checking by default and the ability to easily destructure properties.</p><p>For example, let&#x27;s say you want to render the event history of your application and are writing a component to render a single <code>Action</code>. This becomes very clean with <a href="/variant/docs/api#match"><code>match()</code></a>.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">ActionView</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> React.FC&lt;{action</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Action}&gt; </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> (</span></div><div class="line"><span style="color:#D6DBDB">        &lt;</span><span style="color:#C24E4B">div</span><span style="color:#D6DBDB">&gt;</span></div><div class="line"><span style="color:#D6DBDB">            {</span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">                </span><span style="color:#F9F7F1">addTodo</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">text</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> &lt;&gt;Add new todo [{</span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB">}]: &quot;{</span><span style="color:#FFFFFF">text</span><span style="color:#D6DBDB">}&quot;.&lt;/&gt;,</span></div><div class="line"><span style="color:#D6DBDB">                </span><span style="color:#F9F7F1">toggleTodo</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> &lt;&gt;Toggle todo with id [{</span><span style="color:#FFFFFF">id</span><span style="color:#D6DBDB">}].&lt;/&gt;,</span></div><div class="line"><span style="color:#D6DBDB">                </span><span style="color:#F9F7F1">setVisibilityFilter</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">payload</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> &lt;&gt;</span></div><div class="line"><span style="color:#D6DBDB">                  Set the current visibility filter to {</span><span style="color:#FFFFFF">payload</span><span style="color:#D6DBDB">}.</span></div><div class="line"><span style="color:#D6DBDB">                &lt;/&gt;,</span></div><div class="line"><span style="color:#D6DBDB">            })}</span></div><div class="line"><span style="color:#D6DBDB">        &lt;/</span><span style="color:#C24E4B">div</span><span style="color:#D6DBDB">&gt;</span></div><div class="line"><span style="color:#D6DBDB">    )</span></div><div class="line"><span style="color:#D6DBDB">}</span></div><div class="line"></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> ActionView</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">React</span><span style="color:#FFFFFF">.</span><span style="color:#A8A8B1">FC&lt;{</span><span style="color:#F56565">action</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Action}&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">action</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565">div</span><span style="color:#A8A8B1">&gt;</span></div><div class="line"><span style="color:#FFFFFF">            {match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">action</span><span style="color:#FFFFFF">, {</span></div><div class="line"><span style="color:#FFFFFF">                addTodo: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">id</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">text</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">&lt;&gt;</span><span style="color:#FFFFFF">Add new todo [{</span><span style="color:#F56565">id</span><span style="color:#FFFFFF">}]: &quot;{</span><span style="color:#F56565">text</span><span style="color:#FFFFFF">}&quot;.</span><span style="color:#A8A8B1">&lt;/&gt;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">                toggleTodo: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">id</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">&lt;&gt;</span><span style="color:#FFFFFF">Toggle todo with id [{</span><span style="color:#F56565">id</span><span style="color:#FFFFFF">}].</span><span style="color:#A8A8B1">&lt;/&gt;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">                setVisibilityFilter: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">payload</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">&lt;&gt;</span></div><div class="line"><span style="color:#FFFFFF">                  Set the current visibility filter to {</span><span style="color:#F56565">payload</span><span style="color:#FFFFFF">}.</span></div><div class="line"><span style="color:#FFFFFF">                </span><span style="color:#A8A8B1">&lt;/&gt;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">            }</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">}</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">&lt;/</span><span style="color:#F56565">div</span><span style="color:#A8A8B1">&gt;</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#A8A8B1">}</span></div><div class="line"></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/variant/docs/use/advanced-creation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ <!-- -->Advanced Creation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/variant/docs/cheat"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cheat Sheet<!-- --> ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-money-" class="table-of-contents__link toc-highlight">The Money üèÜ</a></li><li><a href="#grouping" class="table-of-contents__link toc-highlight">Grouping</a><ul><li><a href="#action" class="table-of-contents__link toc-highlight"><code>Action</code></a></li><li><a href="#isofvariant" class="table-of-contents__link toc-highlight">isOfVariant</a></li></ul></li><li><a href="#hooks" class="table-of-contents__link toc-highlight">Hooks</a><ul><li><a href="#usestate" class="table-of-contents__link toc-highlight"><code>useState</code></a></li></ul></li><li><a href="#redux-official-example" class="table-of-contents__link toc-highlight">Redux Official Example</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/variant/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/api">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Related</div><ul class="footer__items"><li class="footer__item"><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>TypeScript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://reasonml.github.io/docs/en/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ReasonML Variants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.npmjs.com/package/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>NPM package<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021 Variant Contributors</div></div></div></footer></div>
<script src="/variant/assets/js/runtime~main.c4bae73e.js"></script>
<script src="/variant/assets/js/main.dd3a7da7.js"></script>
</body>
</html>