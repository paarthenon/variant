<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.1.0 plugin-docs plugin-id-default docs-doc-id-use/matching">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Matching | Variant</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://paarthenon.github.io/variant/docs/use/matching"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.1.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.1.0"><meta data-rh="true" name="docsearch:version" content="2.1.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.1.0"><meta data-rh="true" property="og:title" content="Matching | Variant"><meta data-rh="true" name="description" content="Pattern matching is the crown jewel of variant types. In general, pattern matching compares a given object to a series of patterns and executes the relevant code block when a match is found. Variant features a match expression and several more specific versions for use depending on the situation."><meta data-rh="true" property="og:description" content="Pattern matching is the crown jewel of variant types. In general, pattern matching compares a given object to a series of patterns and executes the relevant code block when a match is found. Variant features a match expression and several more specific versions for use depending on the situation."><link data-rh="true" rel="icon" href="/variant/img/variant.ico"><link data-rh="true" rel="canonical" href="https://paarthenon.github.io/variant/docs/use/matching"><link data-rh="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/use/matching" hreflang="en"><link data-rh="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/use/matching" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/variant/blog/rss.xml" title="Variant RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/variant/blog/atom.xml" title="Variant Atom Feed"><link rel="stylesheet" href="/variant/assets/css/styles.b9ae0410.css">
<link rel="preload" href="/variant/assets/js/runtime~main.9f57bcc0.js" as="script">
<link rel="preload" href="/variant/assets/js/main.fb419d95.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/variant/"><div class="navbar__logo"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Variant</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/variant/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/variant/docs/about">About</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/variant/docs/intro">2.1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/variant/docs/next/intro">3.0.0-dev 🔨</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/variant/docs/use/matching">2.1.0</a></li></ul></div><a class="navbar__item navbar__link" href="/variant/docs/api">☕ API</a><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/variant/docs/intro">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/variant/docs/use/variant">User Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/variant">Variant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/grouping">Grouping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/variant/docs/use/matching">Matching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/filter">Filtering &amp; Analyzing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/advanced-creation">Advanced Creation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/redux">React + Redux ⚛️</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/cheat">Cheat Sheet</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/variant/docs/articles/that-type">Articles</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/variant/docs/api">☕ API</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/variant/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">User Guide</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Matching</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.1.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Matching</h1></header><p>Pattern matching is the crown jewel of variant types. In general, pattern matching compares a given object to a series of patterns and executes the relevant code block when a match is found. Variant features a match expression and several more specific versions for use depending on the situation.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Glossary: Exhaustiveness</div><div class="admonitionContent_S0QG"><p>The term <strong>exhaustive</strong> gets tossed around a lot when talking about variant types, especially in the term <strong>exhaustiveness checking</strong>. Simply speaking, it&#x27;s a check for whether or not you&#x27;ve handled all the possibilities. Having access to this feature <em>greatly</em> simplifies refactoring because breaking changes to the variant (adding a new case, for example) will point you to every point in the code that then needs to add support for that case to its handler.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="match"><code>match()</code><a href="#match" class="hash-link" aria-label="Direct link to match" title="Direct link to match">​</a></h2><p>The <code>match</code> expression inspects the type of an unknown variant and executes the code relevant to that type.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#506565">/**</span></div><div class="line"><span style="color:#506565"> * Describe how some animal is lounging around the player&#x27;s room.</span></div><div class="line"><span style="color:#506565"> *</span></div><div class="line"><span style="color:#506565"> *  returns: description [string]</span></div><div class="line"><span style="color:#506565"> * */</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">describeAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">animal</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Animal) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">cat</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> is sleeping on a sunlit window sill.`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">dog</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">favoriteBall</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> [</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> is on the rug`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#FFFFFF">favoriteBall</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`nuzzling a </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">favoriteBall</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> ball.`</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;.&#x27;</span><span style="color:#D6DBDB"> </span></div><div class="line"><span style="color:#D6DBDB">    ].</span><span style="color:#F9F7F1">join</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27; &#x27;</span><span style="color:#D6DBDB">),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB">: </span><span style="color:#FFFFFF">s</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">s</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> is enjoying the heat of the lamp on his </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">s</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> skin`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">/**</span></div><div class="line"><span style="color:#FFFFFF"> * Describe how some animal is lounging around the player&#x27;s room.</span></div><div class="line"><span style="color:#FFFFFF"> *</span></div><div class="line"><span style="color:#FFFFFF"> *  returns: description [string]</span></div><div class="line"><span style="color:#FFFFFF"> * </span><span style="color:#A8A8B1">*/</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> describeAnimal </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Animal)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#FFFFFF">, {</span></div><div class="line"><span style="color:#FFFFFF">    cat: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">${</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">} is sleeping on a sunlit window sill.</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    dog: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> [</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">${</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">} is on the rug</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565">favoriteBall</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">nuzzling a ${</span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">} ball.</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">.</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF"> </span></div><div class="line"><span style="color:#FFFFFF">    ].join</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    snake: </span><span style="color:#F56565">s</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">${</span><span style="color:#F56565">s</span><span style="color:#A8A8B1">.</span><span style="color:#FFFFFF">name</span><span style="color:#A8A8B1">} is enjoying the heat of the lamp on his ${</span><span style="color:#F56565">s</span><span style="color:#A8A8B1">.</span><span style="color:#FFFFFF">pattern</span><span style="color:#A8A8B1">} skin</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Not only was <code>describeAnimal()</code> able to capture the serene beauty of domestic life with a pet, it did so while referencing information <em>specific</em> to the pet, like the color of a dog&#x27;s favorite ball or the pattern of a snake&#x27;s skin. It also did so without requiring any casting, null checks, or type checks on the part of the user. </p><p>The <code>match()</code> function includes <strong>exhaustiveness checking</strong>. <code>describeAnimal()</code> will gain the ease of mind of knowing its covered all the bases. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-handler">The Handler<a href="#the-handler" class="hash-link" aria-label="Direct link to The Handler" title="Direct link to The Handler">​</a></h3><p>The second object <code>match</code> expects is the <em>handler</em>. It&#x27;s an object with a property for each case of the unknown variant. The property key is the case&#x27;s <code>type</code> and the value is a function that takes a variant of that type and returns... well... anything.</p><blockquote><p>Given <code>Animal</code> has possible types <code>dog</code>, <code>cat</code>, and <code>snake</code>, this is the type of the handler.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#D6DBDB">{</span></div><div class="line"><span style="color:#D6DBDB">   dog: (</span><span style="color:#FFFFFF">x</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Animal&lt;</span><span style="color:#63A5A5">&#x27;dog&#x27;</span><span style="color:#D6DBDB">&gt;) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">any</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">   cat: (</span><span style="color:#FFFFFF">x</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Animal&lt;</span><span style="color:#63A5A5">&#x27;cat&#x27;</span><span style="color:#D6DBDB">&gt;) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">any</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">   snake: (</span><span style="color:#FFFFFF">x</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Animal&lt;</span><span style="color:#63A5A5">&#x27;snake&#x27;</span><span style="color:#D6DBDB">&gt;) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">any</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">   dog: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">x</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Animal&lt;</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">&gt;)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">any</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">   cat: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">x</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Animal&lt;</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">&gt;)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">any</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">   snake: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">x</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Animal&lt;</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">snake</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">&gt;)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">any</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></blockquote><p>The syntax seen in the code is enabled by <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" target="_blank" rel="noopener noreferrer">destructuring the parameters</a> of <a href="https://basarat.gitbook.io/typescript/future-javascript/arrow-functions" target="_blank" rel="noopener noreferrer">arrow functions</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-return-type">The Return Type<a href="#the-return-type" class="hash-link" aria-label="Direct link to The Return Type" title="Direct link to The Return Type">​</a></h3><p>The return type of a <code>match()</code>expression will respect TypeScript&#x27;s type inference. If every branch returns a number, the type of the expression will be <code>number</code>. If there are a variety of types returned, <code>match</code>&#x27;s return type will be the union of those types.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#506565">// rate from 1-10</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">rating</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">a</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Animal) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">a</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">dog</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">===</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;Chewbacca&#x27;</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">10</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">7</span><span style="color:#D6DBDB">, </span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">cat</span><span style="color:#D6DBDB">: </span><span style="color:#FFFFFF">_</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">5</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">startsWith</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;S&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">7</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">4</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">})</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> rate from 1-10</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> rating </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">a</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Animal)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">a</span><span style="color:#FFFFFF">, {</span></div><div class="line"><span style="color:#FFFFFF">    dog: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">name</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">===</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Chewbacca</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">10</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">7</span><span style="color:#FFFFFF">, </span></div><div class="line"><span style="color:#FFFFFF">    cat: </span><span style="color:#F56565">_</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">5</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    snake: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">name</span><span style="color:#FFFFFF">.startsWith</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">S</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">7</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">4</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p><strong>type:</strong> <code>const rating: (a: Animal) =&gt; number</code></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span><mdxadmonitiontitle>Arguments named <code>_</code></mdxadmonitiontitle></div><div class="admonitionContent_S0QG"><p>Use <code>_</code> as the label for throwaway arguments in the handler functions. This convention is concise and helps limit <code>tsc</code>&#x27;s whining when the <code>noUnusedParameters</code> flag is on.</p></div></div><p>Now this would never happen, of course, but let&#x27;s pretend I made a mistake while typing <code>4</code>, and accidentally wrote the string <code>&#x27;4&#x27;</code>.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">rating</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">a</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Animal) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">a</span><span style="color:#D6DBDB">, {</span></div><div class="line dim"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">dog</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">===</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;Chewbacca&#x27;</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">10</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">7</span><span style="color:#D6DBDB">, </span></div><div class="line dim"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">cat</span><span style="color:#D6DBDB">: </span><span style="color:#FFFFFF">_</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">5</span><span style="color:#D6DBDB">,</span></div><div class="line dim"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">startsWith</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;S&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">7</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;4&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line highlight"><span style="color:#D6DBDB">})</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> rating </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">a</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Animal)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">a</span><span style="color:#FFFFFF">, {</span></div><div class="line dim"><span style="color:#FFFFFF">    dog: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">name</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">===</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Chewbacca</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">10</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">7</span><span style="color:#FFFFFF">, </span></div><div class="line dim"><span style="color:#FFFFFF">    cat: </span><span style="color:#F56565">_</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">5</span><span style="color:#FFFFFF">,</span></div><div class="line dim"><span style="color:#FFFFFF">    snake: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">name</span><span style="color:#FFFFFF">.startsWith</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">S</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">7</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">4</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line highlight"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p><strong>type:</strong> <code>const rating: (a: Animal) =&gt; number | &quot;4&quot;</code></p><p>Thanks to this feature, this slip-up will raise a compiler error when the result of <code>rating()</code> is used where a number is expected.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="inline-matching">Inline Matching<a href="#inline-matching" class="hash-link" aria-label="Direct link to Inline Matching" title="Direct link to Inline Matching">​</a></h3><p>As a type-safe and elegant flow control expression, <code>match</code> can be used inline as part of other expressions. These can be language features or elements of other libraries.</p><p><strong>Filtering a list of variants</strong>. Heterogeneous lists are a #1 use case for variants. Matching that list to make decisions allows for some very succinct and powerful code.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#506565">/**</span></div><div class="line"><span style="color:#506565"> * Filter to the animals that are just quake-in-your-booties cool.</span></div><div class="line"><span style="color:#506565"> *  - cool cats haven&#x27;t damaged any furniture</span></div><div class="line"><span style="color:#506565"> *  - cool dogs like red balls</span></div><div class="line"><span style="color:#506565"> *  - every snake is cool</span></div><div class="line"><span style="color:#506565"> */</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">coolAnimals</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">animals</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">filter</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">a</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">a</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">cat</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">furnitureDamaged</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">furnitureDamaged</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">===</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">0</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">dog</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">favoriteBall</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">favoriteBall</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">===</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;red&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB">: </span><span style="color:#FFFFFF">_</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">true</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">}));</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">/**</span></div><div class="line"><span style="color:#FFFFFF"> * Filter to the animals that are just quake-in-your-booties cool.</span></div><div class="line"><span style="color:#FFFFFF"> *  - cool cats haven&#x27;t damaged any furniture</span></div><div class="line"><span style="color:#FFFFFF"> *  - cool dogs like red balls</span></div><div class="line"><span style="color:#FFFFFF"> *  - every snake is cool</span></div><div class="line"><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">*/</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">coolAnimals</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">animals</span><span style="color:#FFFFFF">.filter</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">a</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">a</span><span style="color:#FFFFFF">, {</span></div><div class="line"><span style="color:#FFFFFF">    cat: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">furnitureDamaged</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">furnitureDamaged</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">===</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">0</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    dog: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">favoriteBall</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">===</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">red</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    snake: </span><span style="color:#F56565">_</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">true</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p><strong>Last minute color selections.</strong> Conveniently switch based on type for various properties. Since literals are retained, this even works for fields like the react library <a href="https://blueprintjs.com/" target="_blank" rel="noopener noreferrer">@blueprintjs/core</a>&#x27;s <code>icon</code> property which is required to be a valid literal from a selection. </p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">&lt;</span><span style="color:#FFFFFF">Icon</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">icon</span><span style="color:#9BB7A7">=</span><span style="color:#63A5A5">&#x27;upload&#x27;</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">color</span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB">{</span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">uploadState</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">        sucess: </span><span style="color:#FFFFFF">_</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;green&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        failure: </span><span style="color:#FFFFFF">_</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;red&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    })}</span></div><div class="line"><span style="color:#9BB7A7">/&gt;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565">Icon</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">icon</span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">upload</span><span style="color:#FFFFFF">&#x27;</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">color</span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF">{match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">uploadState</span><span style="color:#FFFFFF">, </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565">sucess</span><span style="color:#FFFFFF">: </span><span style="color:#F56565">_</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">green</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565">failure</span><span style="color:#FFFFFF">: </span><span style="color:#F56565">_</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">red</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF">}</span></div><div class="line"><span style="color:#A8A8B1">/&gt;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_LWe7" id="partial-matching">Partial Matching<a href="#partial-matching" class="hash-link" aria-label="Direct link to Partial Matching" title="Direct link to Partial Matching">​</a></h3><p>Sometimes it won&#x27;t be necessary to handle every case, or many cases can be handled in the same way. In this scenario, add a default handler. There are two simple ways to do this.</p><ol><li><p>Add a <code>default</code> case to the handler object</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">rating</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">animal</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Animal) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">cat</span><span style="color:#D6DBDB">: </span><span style="color:#FFFFFF">_</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">1</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">default</span><span style="color:#D6DBDB">: </span><span style="color:#FFFFFF">_</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">2</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> rating </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Animal)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#FFFFFF">, {</span></div><div class="line"><span style="color:#FFFFFF">    cat: </span><span style="color:#F56565">_</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">1</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    default: </span><span style="color:#F56565">_</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">2</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>The input to the <code>default</code> case is the full union (<code>Animal</code>).</p></li><li><p>Add a second parameter to handle the &#x27;else&#x27; clause. This is sometimes called the <em><strong><code>match-else</code></strong></em> overload.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">rating</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">animal</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Animal) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">cat</span><span style="color:#D6DBDB">: </span><span style="color:#FFFFFF">_</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">1</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">}, </span><span style="color:#FFFFFF">_</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">2</span><span style="color:#D6DBDB">);</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> rating </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Animal)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#FFFFFF">, {</span></div><div class="line"><span style="color:#FFFFFF">    cat: </span><span style="color:#F56565">_</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">1</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}, </span><span style="color:#F56565">_</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">2)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>The input to this function is more specific. Since we handled <code>cat</code> the type of <code>_</code> for the else clause isn&#x27;t <code>Animal</code>. It&#x27;s the more specific subset <code>Animal&lt;&#x27;dog&#x27;&gt; | Animal&lt;&#x27;snake&#x27;&gt;</code>. As always, users are free to reference any properties common to that union. </p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#506565">// describe a file attribute</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">attributeToString</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">attr</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Attribute) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">attr</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">Filename</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">payload</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`Filename: </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">payload</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">Resolution</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">width</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">height</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`Resolution: </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">width</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> x </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">height</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">}, </span><span style="color:#FFFFFF">rest</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`Unknown Attribute: </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">rest</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">type</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">);</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> describe a file attribute</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> attributeToString </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">attr</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Attribute)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">attr</span><span style="color:#FFFFFF">, {</span></div><div class="line"><span style="color:#FFFFFF">    Filename: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">payload</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">Filename: ${</span><span style="color:#F56565">payload</span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    Resolution: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">width</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">height</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">Resolution: ${</span><span style="color:#F56565">width</span><span style="color:#A8A8B1">} x ${</span><span style="color:#F56565">height</span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}, </span><span style="color:#F56565">rest</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">Unknown Attribute: ${</span><span style="color:#F56565">rest</span><span style="color:#A8A8B1">.</span><span style="color:#FFFFFF">type</span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="match-helpers">Match Helpers<a href="#match-helpers" class="hash-link" aria-label="Direct link to Match Helpers" title="Direct link to Match Helpers">​</a></h3><p>I have added two functions to assist with common use cases.</p><ol><li><p>Returning a constant (<strong><code>just()</code></strong>).</p><p>As a user engages with match more, their ring finger may become tired from typing excessive numbers of <code>() =&gt;</code> and <code>_ =&gt;</code>expressions. I&#x27;ve made the function <code>just()</code> available as shorthand for this use case. <code>just(x)</code> returns a function <code>() =&gt; x</code>.</p><p>Note that <code>just()</code> can also be used in variant <em>creation</em> as a way of creating a case that takes no parameters and yet returns an object with multiple fields.</p></li><li><p>Extracting the payload (<strong><code>unpack()</code></strong>).</p><p><code>payload&lt;T&gt;()</code> is an extremely commonly used function. Instead of repeatedly typing <code>({payload}) =&gt; payload</code> in order to extract the data, use <code>unpack</code>.</p></li></ol><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#506565">// Variant variety (payload, fields, empty).</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Test1</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantModule</span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    Alpha: </span><span style="color:#F9F7F1">payload</span><span style="color:#D6DBDB">&lt;</span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    Beta: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{prop</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    Gamma: {},</span></div><div class="line"><span style="color:#D6DBDB">});</span></div><div class="line"><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> Test1&lt;T </span><span style="color:#9BB7A7">extends</span><span style="color:#D6DBDB"> TypeNames&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Test1</span><span style="color:#D6DBDB">&gt; </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">undefined</span><span style="color:#D6DBDB">&gt; </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> VariantOf&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Test1</span><span style="color:#D6DBDB">, T&gt;;</span></div><div class="line"></div><div class="line"><span style="color:#506565">// Example of unpack, the regular way of doing things, and just.</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">test1Result</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">thing</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Test1) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">thing</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">    Alpha: </span><span style="color:#FFFFFF">unpack</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">Beta</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">prop</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">prop</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    Gamma: </span><span style="color:#F9F7F1">just</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;gamma&#x27;</span><span style="color:#D6DBDB">),</span></div><div class="line"><span style="color:#D6DBDB">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> Variant variety (payload, fields, empty).</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Test1</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantModule</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    Alpha: payload</span><span style="color:#A8A8B1">&lt;string&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    Beta: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">prop</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    Gamma: {},</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Test1</span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565">T</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">extends</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">TypeNames</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Test1</span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">undefined&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">VariantOf</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Test1</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">T</span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> Example of unpack, the regular way of doing things, and just.</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> test1Result </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">thing</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Test1)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">thing</span><span style="color:#FFFFFF">, {</span></div><div class="line"><span style="color:#FFFFFF">    Alpha: </span><span style="color:#F56565">unpack</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    Beta: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">prop</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">prop</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    Gamma: just</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">gamma</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-matcher">🔮 <code>matcher()</code><a href="#-matcher" class="hash-link" aria-label="Direct link to -matcher" title="Direct link to -matcher">​</a></h2><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Preview Content</div><div class="admonitionContent_S0QG"><p>🔮 denotes preview content. These are features that are available, but not well-documented and may be modified in the near future as they see better integration.</p></div></div><p>The <code>match</code> function is wonderful, but requires explicit handling of individual cases and so can be tiresome to use when multiple cases follow the same flow. This library provides an alternate matching tool called <code>matcher()</code> that operates in a builder pattern. Here&#x27;s our original describeAnimal function, but with a <code>matcher()</code> instead.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">describeAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">animal</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Animal) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">matcher</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1">when</span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1">cat</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> is sleeping on a sunlit window sill.`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1">dog</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">favoriteBall</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> [</span></div><div class="line"><span style="color:#D6DBDB">            </span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> is on the rug`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">            </span><span style="color:#FFFFFF">favoriteBall</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`nuzzling a </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">favoriteBall</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> ball.`</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;.&#x27;</span><span style="color:#D6DBDB"> </span></div><div class="line"><span style="color:#D6DBDB">        ].</span><span style="color:#F9F7F1">join</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27; &#x27;</span><span style="color:#D6DBDB">),</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB">: </span><span style="color:#FFFFFF">s</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">s</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> is enjoying the heat of the lamp on his </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">s</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> skin`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    })</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1">complete</span><span style="color:#D6DBDB">();</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> describeAnimal </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Animal)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> matcher</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .when</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">        cat: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">${</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">} is sleeping on a sunlit window sill.</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        dog: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> [</span></div><div class="line"><span style="color:#FFFFFF">            </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">${</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">} is on the rug</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">            </span><span style="color:#F56565">favoriteBall</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">nuzzling a ${</span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">} ball.</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">.</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF"> </span></div><div class="line"><span style="color:#FFFFFF">        ].join</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        snake: </span><span style="color:#F56565">s</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">${</span><span style="color:#F56565">s</span><span style="color:#A8A8B1">.</span><span style="color:#FFFFFF">name</span><span style="color:#A8A8B1">} is enjoying the heat of the lamp on his ${</span><span style="color:#F56565">s</span><span style="color:#A8A8B1">.</span><span style="color:#FFFFFF">pattern</span><span style="color:#A8A8B1">} skin</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    }</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .complete</span><span style="color:#A8A8B1">()</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>It seems pretty familiar. This function shines when we can combine branches, so let&#x27;s do that here. Unlike a snake, cats and dogs both have fur and enjoy having it pet.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">describeAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">animal</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Animal) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">matcher</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1">when</span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB">: </span><span style="color:#FFFFFF">s</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">s</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> is enjoying the heat of the lamp on his </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">s</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> skin`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    })</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1">when</span><span style="color:#D6DBDB">([</span><span style="color:#63A5A5">&#x27;cat&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;dog&#x27;</span><span style="color:#D6DBDB">], ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> is hoping you will pet their fur.`</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1">complete</span><span style="color:#D6DBDB">();</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> describeAnimal </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Animal)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> matcher</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .when</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">        snake: </span><span style="color:#F56565">s</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">${</span><span style="color:#F56565">s</span><span style="color:#A8A8B1">.</span><span style="color:#FFFFFF">name</span><span style="color:#A8A8B1">} is enjoying the heat of the lamp on his ${</span><span style="color:#F56565">s</span><span style="color:#A8A8B1">.</span><span style="color:#FFFFFF">pattern</span><span style="color:#A8A8B1">} skin</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    }</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .when</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">], </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">${</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">} is hoping you will pet their fur.</span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .complete</span><span style="color:#A8A8B1">()</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>The matcher type is smart enough to understand which cases have already been handled. Attempting to handle a case twice will result in a compiler error. The <code>.complete()</code> function is only available when all cases are handled. Partial matching is still entirely possible by using <code>.execute()</code> instead.</p><hr><p>Let&#x27;s take a look at <code>matcher()</code> in detail. This function accepts a single object as its only parameter. It returns a <code>Matcher&lt;T, H, K?&gt;</code> where T is the instance of the variant, H is the current state of the handler object being built, and K is an optional type key (if your variants do not use <code>type</code> and instead use <code>__typeName</code> or <code>kind</code>).</p><p>The return type of <code>matcher()</code> follows the same rules as <code>match()</code> (it will be a union of the handler return types). To actually <em>execute</em> the matcher, use one of its <strong>terminal</strong> methods, like <code>complete()</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="to-use-this-function">To use this function<a href="#to-use-this-function" class="hash-link" aria-label="Direct link to To use this function" title="Direct link to To use this function">​</a></h3><ol><li><p><strong>Call <code>matcher()</code> on a variable</strong> to create the matcher object.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">greeting</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">matcher</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">greeting</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> matcher</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></li><li><p><strong>Handle one or more cases</strong> with one or more <code>.when()</code> calls.</p><p>The <code>.when()</code> method has two overloads.</p><ol><li><p>The first accepts an object, which will operate just like <code>match()</code></p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1">when</span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">        snake: </span><span style="color:#F9F7F1">just</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;Hello, snake.&#x27;</span><span style="color:#D6DBDB">),</span></div><div class="line"><span style="color:#D6DBDB">    })</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span></div><div class="line"><span style="color:#FFFFFF">    .when</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">        snake: just</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Hello, snake.</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    }</span><span style="color:#A8A8B1">)</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></li><li><p>The second accepts an array of keys a function to handle the variant types corresponding to those keys.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">...</span></div><div class="line"><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">when</span><span style="color:#D6DBDB">([</span><span style="color:#63A5A5">&#x27;cat&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;dog&#x27;</span><span style="color:#D6DBDB">], </span><span style="color:#F9F7F1">just</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;Hello, furry one.&#x27;</span><span style="color:#D6DBDB">))</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">...</span></div><div class="line"><span style="color:#FFFFFF">.when</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">], just</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Hello, furry one.</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">))</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Just like <code>isType</code>, it&#x27;s okay to use the constructor in this array instead.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">...</span></div><div class="line"><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">when</span><span style="color:#D6DBDB">([</span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">cat</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">dog</span><span style="color:#D6DBDB">], </span><span style="color:#F9F7F1">just</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;Hello, furry one.&#x27;</span><span style="color:#D6DBDB">))</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">...</span></div><div class="line"><span style="color:#FFFFFF">.when</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.cat, </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.dog], just</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Hello, furry one.</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">))</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></li></ol></li><li><p><strong>Execute the handler</strong> with a <strong>terminal</strong> method. So far you&#x27;ve seen <code>complete()</code>, but that won&#x27;t always be applicable or even available. The <code>complete()</code> method only exists on the matcher if every case has been handled. There are three terminals, <code>.complete()</code>, <code>.execute()</code>, and <code>.else()</code>.</p><ol><li><strong><code>.complete()</code></strong> gives you <strong>exhaustiveness checking</strong>. This function will only be defined if the handler completely covers the variant. Adding a new case will raise a compiler error in the relevant matchers as the <code>complete()</code> function will disappear until the new case is handled.</li><li><strong><code>.execute()</code></strong> immediately executes the handler whether or not every case can be processed, a form of <em>partial matching</em>. If the handler is complete, <code>.execute()</code> is functionally equivalent to <code>.complete()</code>. However, if there are some cases unhandled, <code>.execute()</code> may return <code>undefined</code> (and the return type will be updated to reflect this).</li><li><strong><code>.else(e =&gt; ...)</code></strong> immediately executes the handler and processes any unhandled cases with the function passed into the <code>.else()</code> method. Another form of <em>partial matching</em>, this is most similar to the match-else overload of <code>match()</code>.</li></ol></li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/variant/docs/use/grouping"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Grouping</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/variant/docs/use/filter"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Filtering &amp; Analyzing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#match" class="table-of-contents__link toc-highlight"><code>match()</code></a><ul><li><a href="#the-handler" class="table-of-contents__link toc-highlight">The Handler</a></li><li><a href="#the-return-type" class="table-of-contents__link toc-highlight">The Return Type</a></li><li><a href="#inline-matching" class="table-of-contents__link toc-highlight">Inline Matching</a></li><li><a href="#partial-matching" class="table-of-contents__link toc-highlight">Partial Matching</a></li><li><a href="#match-helpers" class="table-of-contents__link toc-highlight">Match Helpers</a></li></ul></li><li><a href="#-matcher" class="table-of-contents__link toc-highlight">🔮 <code>matcher()</code></a><ul><li><a href="#to-use-this-function" class="table-of-contents__link toc-highlight">To use this function</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/variant/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/api">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Related</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">TypeScript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://reasonml.github.io/docs/en/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item">ReasonML Variants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.npmjs.com/package/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item">NPM package<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Variant Contributors</div></div></div></footer></div>
<script src="/variant/assets/js/runtime~main.9f57bcc0.js"></script>
<script src="/variant/assets/js/main.fb419d95.js"></script>
</body>
</html>