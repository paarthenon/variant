<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/variant/blog/rss.xml" title="Variant Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/variant/blog/atom.xml" title="Variant Blog Atom Feed"><title data-react-helmet="true">Motivation | Variant</title><meta data-react-helmet="true" property="og:url" content="https://paarthenon.github.io/variant/docs/motivation"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.1.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.1.0"><meta data-react-helmet="true" property="og:title" content="Motivation | Variant"><meta data-react-helmet="true" name="description" content="‚ö† This page explains why variant matters. If you just want to know how to use the library, move on and come back to this page."><meta data-react-helmet="true" property="og:description" content="‚ö† This page explains why variant matters. If you just want to know how to use the library, move on and come back to this page."><link data-react-helmet="true" rel="shortcut icon" href="/variant/img/variant.ico"><link data-react-helmet="true" rel="canonical" href="https://paarthenon.github.io/variant/docs/motivation"><link data-react-helmet="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/motivation" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/motivation" hreflang="x-default"><link rel="stylesheet" href="/variant/assets/css/styles.8fe367a6.css">
<link rel="preload" href="/variant/assets/js/runtime~main.ef36d1ec.js" as="script">
<link rel="preload" href="/variant/assets/js/main.a9258af1.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/variant/"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Variant</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/variant/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/variant/docs/about">About</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/variant/docs/intro">2.1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/variant/docs/next/intro">3.0.0-dev üî®</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/variant/docs/motivation">2.1.0</a></li></ul></div><a class="navbar__item navbar__link" href="/variant/docs/api">‚òï API</a><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåí</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåî</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/variant/"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Variant</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/variant/docs/intro">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/variant/docs/about">About</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/variant/docs/next/intro">3.0.0-dev üî®</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/variant/docs/motivation">2.1.0</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/variant/docs/api">‚òï API</a></li><li class="menu__list-item"><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/intro">Introduction</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/variant/docs/motivation">Motivation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/use/variant">Variant</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/use/grouping">Grouping</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/use/matching">Matching</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/use/filter">Filtering &amp; Analyzing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/use/advanced-creation">Advanced Creation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/use/redux">React + Redux ‚öõÔ∏è</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/cheat">Cheat Sheet</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Articles</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/articles/that-type">That type tho...</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/articles/type-name">&#x27;type&#x27;, &#x27;tag&#x27;, and &#x27;kind&#x27;</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/articles/augment">üîÆ Augmenting variants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/changelog">Changelog</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/variant/docs/api">‚òï API</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: 2.1.0</span><div class="markdown"><header><h1 class="h1Heading_27L5">Motivation</h1></header><blockquote><p>‚ö† This page explains why variant matters. If you just want to know how to use the library, <a href="/variant/docs/use/variant">move on</a> and come back to this page.</p></blockquote><p>TypeScript has an inherent problem. Interfaces and inferred types only exist at compile time, but inspecting a type can only be done at runtime. That makes it difficult to simultaneously benefit from types and make decisions based on those types. Classes are one solution to provide compile time type checking and runtime behavior together but they don&#x27;t <em>serialize</em>, so we can&#x27;t send them over the network or shove them in a redux store. Enter variant types, and this library.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="discriminated-unions"></a>Discriminated Unions<a class="hash-link" href="#discriminated-unions" title="Direct link to heading">#</a></h2><p>This library is all about variant types a.k.a. discriminated unions. I recommend this link if they are new to you:</p><p><a href="http://reasonmlhub.com/exploring-reasonml/ch_variants.html" target="_blank" rel="noopener noreferrer"><strong>Variant Types</strong> (<em>ReasonML Hub</em>)</a></p><blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="note"></a>Note:<a class="hash-link" href="#note" title="Direct link to heading">#</a></h3><p>Technically speaking, this implementation most resembles <a href="http://reasonmlhub.com/exploring-reasonml/ch_polymorphic-variants.html" target="_blank" rel="noopener noreferrer"><strong>polymorphic variants</strong></a>. The implications of this will become clearer in the <a href="/variant/docs/use/grouping">grouping</a> section. Users familiar with functional programming may be stroking neckbeards in consideration at this point.</p></blockquote><p><strong>The short version is this:</strong> A variant type is like an enum but each case can hold some extra data. Enums already help us express ideas in the domain as a set of symbols. Variants allow those symbols to include more specific information depending on each case. </p><ul><li>Typically it&#x27;s difficult to analyze code blocks. By holding to a pattern of matching against a variant (a.k.a. <em>a set number of options</em>) the compiler can help check your code flow for completeness, or <em>exhaustiveness</em>.</li><li>An underappreciated benefit is their ability to withstand refactoring. As an application grows in complexity a variant can simply add a new tag when branching functionality is needed. As a workflow needs more context the tag representing it can evolve from a simple symbol to a more complex type with its own constructor logic or async processing.</li><li>This approach is a natural fit for describing a protocol where each message is a tag and the overall lexicon forms the variant type. A <em>message handler</em> is a single <a href="/variant/docs/api#match"><code>match()</code></a> statement. <ul><li><a href="/variant/docs/use/redux">üëã Hey there, redux</a> .</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="discriminated-unions-in-typescript"></a>Discriminated Unions <em>in TypeScript</em><a class="hash-link" href="#discriminated-unions-in-typescript" title="Direct link to heading">#</a></h3><p>TypeScript can certainly handle discriminated unions without this library, but it&#x27;s not a good solution. This is what it looks like at its best, and most people don&#x27;t do it this way. They create the interface for the type and the function separately, resulting in even more duplication. Compare this vanilla TypeScript code to the animal example with variant. <em>(Click the tabs to flip between the implementations).</em></p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Vanilla TS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Variant</li></ul><div class="margin-vert--md"><div role="tabpanel"><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">DOG_TYPE</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;dog&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">CAT_TYPE</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;cat&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">SNAKE_TYPE</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;snake&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"></div><div class="line"><span style="color:#C24E4B">function</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">dog</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">favoriteBall</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">) {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">        type: </span><span style="color:#FFFFFF">DOG_TYPE</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">as</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">DOG_TYPE</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#FFFFFF">favoriteBall</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    }</span></div><div class="line"><span style="color:#D6DBDB">}</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">cat</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">furnitureDamaged</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span></div><div class="line"><span style="color:#D6DBDB">    type: </span><span style="color:#FFFFFF">CAT_TYPE</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">as</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">CAT_TYPE</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">furnitureDamaged</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">})</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">patternName</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span></div><div class="line"><span style="color:#D6DBDB">    type: </span><span style="color:#FFFFFF">SNAKE_TYPE</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">as</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">SNAKE_TYPE</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    pattern: </span><span style="color:#FFFFFF">patternName</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">??</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">})</span></div><div class="line"></div><div class="line"><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> Animal </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">|</span><span style="color:#D6DBDB"> ReturnType&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">dog</span><span style="color:#D6DBDB">&gt;</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">|</span><span style="color:#D6DBDB"> ReturnType&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">cat</span><span style="color:#D6DBDB">&gt;</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">|</span><span style="color:#D6DBDB"> ReturnType&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">snake</span><span style="color:#D6DBDB">&gt;;</span></div><div class="line"><span style="color:#D6DBDB">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">DOG_TYPE</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">CAT_TYPE</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">SNAKE_TYPE</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">snake</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">function</span><span style="color:#FFFFFF"> dog</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">        type: </span><span style="color:#F56565">DOG_TYPE</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">as</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">DOG_TYPE</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565">name</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565">favoriteBall</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    }</span></div><div class="line"><span style="color:#A8A8B1">}</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> cat </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">furnitureDamaged</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    type: </span><span style="color:#F56565">CAT_TYPE</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">as</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">CAT_TYPE</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">name</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">furnitureDamaged</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> snake </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">patternName</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    type: </span><span style="color:#F56565">SNAKE_TYPE</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">as</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">SNAKE_TYPE</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">name</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    pattern: </span><span style="color:#F56565">patternName</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">??</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">|</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">ReturnType</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">dog</span><span style="color:#A8A8B1">&gt;</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">|</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">ReturnType</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">cat</span><span style="color:#A8A8B1">&gt;</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">|</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">ReturnType</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">snake</span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></div><div role="tabpanel" hidden=""><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantModule</span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    dog: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, favoriteBall</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    cat: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, furnitureDamaged</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB">: (</span><span style="color:#FFFFFF">name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">}),</span></div><div class="line"><span style="color:#D6DBDB">});</span></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> Animal&lt;T </span><span style="color:#9BB7A7">extends</span><span style="color:#D6DBDB"> TypeNames&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">&gt; </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">undefined</span><span style="color:#D6DBDB">&gt;</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> VariantOf&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">, T&gt;;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantModule</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    dog: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    cat: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">furnitureDamaged</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    snake: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565">T</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">extends</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">TypeNames</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">undefined&gt;</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">VariantOf</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">T</span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></div></div></div><hr><p><strong>Both methods result in the following union type:</strong></p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> Animal </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    type</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&quot;dog&quot;</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">    name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">    favoriteBall</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">|</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">undefined</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">|</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    type</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&quot;cat&quot;</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">    name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">    furnitureDamaged</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">|</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    type</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&quot;snake&quot;</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">    name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">    pattern</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">type</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&quot;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&quot;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">|</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">undefined</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">|</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">type</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&quot;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&quot;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">furnitureDamaged</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">|</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">type</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&quot;</span><span style="color:#A8A8B1">snake</span><span style="color:#FFFFFF">&quot;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">pattern</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>But the variant approach is shorter, has better types, <em>automatically updates</em> as new animals are added, and requires <strong>no manual casting</strong>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/variant/docs/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/variant/docs/use/variant"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Variant ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#discriminated-unions" class="table-of-contents__link">Discriminated Unions</a><ul><li><a href="#discriminated-unions-in-typescript" class="table-of-contents__link">Discriminated Unions <em>in TypeScript</em></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/variant/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/api">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Related</div><ul class="footer__items"><li class="footer__item"><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>TypeScript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://reasonml.github.io/docs/en/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ReasonML Variants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.npmjs.com/package/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>NPM package<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021 Variant Contributors</div></div></div></footer></div>
<script src="/variant/assets/js/runtime~main.ef36d1ec.js"></script>
<script src="/variant/assets/js/main.a9258af1.js"></script>
</body>
</html>