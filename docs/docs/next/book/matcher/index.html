<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-book/matcher">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Matcher | Variant</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://paarthenon.github.io/variant/docs/next/book/matcher"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Matcher | Variant"><meta data-rh="true" name="description" content="Variant providers matcher(), a builder-pattern API for matching against variants and literal unions. The matcher allows users to build a handler piece-by-piece, which can become especially important for larger variants. As your unions grow to dozens or hundreds of cases, the matcher will become more and more relevant."><meta data-rh="true" property="og:description" content="Variant providers matcher(), a builder-pattern API for matching against variants and literal unions. The matcher allows users to build a handler piece-by-piece, which can become especially important for larger variants. As your unions grow to dozens or hundreds of cases, the matcher will become more and more relevant."><link data-rh="true" rel="icon" href="/variant/img/variant.ico"><link data-rh="true" rel="canonical" href="https://paarthenon.github.io/variant/docs/next/book/matcher"><link data-rh="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/next/book/matcher" hreflang="en"><link data-rh="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/next/book/matcher" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/variant/blog/rss.xml" title="Variant RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/variant/blog/atom.xml" title="Variant Atom Feed"><link rel="stylesheet" href="/variant/assets/css/styles.b9ae0410.css">
<link rel="preload" href="/variant/assets/js/runtime~main.9f57bcc0.js" as="script">
<link rel="preload" href="/variant/assets/js/main.fb419d95.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/variant/"><div class="navbar__logo"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Variant</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/variant/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/variant/docs/about">About</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/variant/docs/next/intro">3.0.0-dev ðŸ”¨</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/variant/docs/next/book/matcher">3.0.0-dev ðŸ”¨</a></li><li><a class="dropdown__link" href="/variant/docs/intro">2.1.0</a></li></ul></div><a class="navbar__item navbar__link" href="/variant/docs/api">â˜• API</a><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/variant/docs/next/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/variant/docs/next/tutorial/part-zero">Tutorial</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/tutorial/part-zero">Introducing &quot;Kind of Super&quot;</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/variant/docs/next/book/creation">The Book</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/creation">Creating Variants</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/variant/docs/next/book/scoped">Fancier Variants</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/inspection">Inspection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/organization">Organization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/match">Match</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/variant/docs/next/book/matcher">Matcher</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/catalog">Catalog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/flags">Flags and Matrix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/utilities">Utilities</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/variant/docs/next/articles/naming">Articles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/variant/docs/next/libraries/react">Libraries</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/variant/docs/next/todo">Todo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/variant/docs/next/glossary">ðŸ“‘ Glossary of Terms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/variant/docs/next/api/modules">â˜• API</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Variant<!-- --> <b>3.0.0-dev ðŸ”¨</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/variant/docs/intro">latest version</a></b> (<!-- -->2.1.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/variant/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">The Book</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Matcher</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 3.0.0-dev ðŸ”¨</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Matcher</h1></header><p>Variant providers <strong><code>matcher()</code>, a builder-pattern API</strong> for matching against variants and literal unions. The matcher allows users to build a handler piece-by-piece, which can become especially important for larger variants. As your unions grow to dozens or hundreds of cases, the matcher will become more and more relevant.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="with"><code>.with()</code><a href="#with" class="hash-link" aria-label="Direct link to with" title="Direct link to with">â€‹</a></h2><p>Its most basic use resembles the <code>match()</code> function, accepting an object with each case handled as a property.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const describePetting: (animal: Animal) =&gt; string">describePetting</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases, object-style.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.with&lt;{
    cat: ({ name }: {
        type: &quot;cat&quot;;
        name: string;
        furnitureDamaged: number;
    }) =&gt; string;
    dog: ({ name }: {
        type: &quot;dog&quot;;
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; string;
    snake: ({ name, pattern }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}&gt;(variations: {
    cat: ({ name }: {
        type: &quot;cat&quot;;
        name: string;
        furnitureDamaged: number;
    }) =&gt; string;
    dog: ({ name }: {
        type: &quot;dog&quot;;
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; string;
    snake: ({ name, pattern }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}): Matcher&lt;...&gt;">with</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1"><data-lsp lsp="(property) cat: ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
}) =&gt; string">cat</data-lsp></span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`You stroke </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">&#x27;s fur.`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1"><data-lsp lsp="(property) dog: ({ name }: {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string">dog</data-lsp></span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`You stroke </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">&#x27;s fur.`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1"><data-lsp lsp="(property) snake: ({ name, pattern }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string">snake</data-lsp></span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`You pet </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">&#x27;s </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> skin`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    })</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, { cat: ({ name }: { type: &quot;cat&quot;; name: string; furnitureDamaged: number; }) =&gt; string; dog: ({ name }: { ...; }) =&gt; string; snake: ({ name, pattern }: { ...; }) =&gt; string; }&gt;.complete: (options?: CompleteOptions | undefined) =&gt; string">complete</data-lsp></span><span style="color:#D6DBDB">()</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> <data-lsp lsp="const describePetting: (animal: Animal) =&gt; string">describePetting</data-lsp> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Handle one or more cases, object-style.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.with&lt;{
    cat: ({ name }: {
        type: &quot;cat&quot;;
        name: string;
        furnitureDamaged: number;
    }) =&gt; string;
    dog: ({ name }: {
        type: &quot;dog&quot;;
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; string;
    snake: ({ name, pattern }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}&gt;(variations: {
    cat: ({ name }: {
        type: &quot;cat&quot;;
        name: string;
        furnitureDamaged: number;
    }) =&gt; string;
    dog: ({ name }: {
        type: &quot;dog&quot;;
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; string;
    snake: ({ name, pattern }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}): Matcher&lt;...&gt;">with</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">        <data-lsp lsp="(property) cat: ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
}) =&gt; string">cat</data-lsp>: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">You stroke ${</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">}&#x27;s fur.</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        <data-lsp lsp="(property) dog: ({ name }: {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string">dog</data-lsp>: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">You stroke ${</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">}&#x27;s fur.</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        <data-lsp lsp="(property) snake: ({ name, pattern }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string">snake</data-lsp>: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">You pet ${</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">}&#x27;s ${</span><span style="color:#F56565"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#A8A8B1">} skin</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    }</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, { cat: ({ name }: { type: &quot;cat&quot;; name: string; furnitureDamaged: number; }) =&gt; string; dog: ({ name }: { ...; }) =&gt; string; snake: ({ name, pattern }: { ...; }) =&gt; string; }&gt;.complete: (options?: CompleteOptions | undefined) =&gt; string">complete</data-lsp></span><span style="color:#A8A8B1">()</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>The <code>.complete()</code> function is a <strong>terminal</strong> method, one of the functions of the matcher that actually executes the match operation. There are <a href="#terminals">other terminals</a>, each with their own purpose. <em>Error reporting</em> is <code>.complete()</code>&#x27;s specialty.</p><p>Let&#x27;s say we overlooked some of the cases in the above function.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const describePetting: (animal: Animal) =&gt; any">describePetting</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases, object-style.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.with&lt;{
    snake: ({ name }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}&gt;(variations: {
    snake: ({ name }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}): Matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, &quot;type&quot;, {
    snake: ({ name }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}&gt;">with</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1"><data-lsp lsp="(property) snake: ({ name }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string">snake</data-lsp></span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`You let </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> wrap around your hand.`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    })</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-err><data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, { snake: ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string; }&gt;.complete: VariantError&lt;[&quot;The handler has not been fully completed. Expected key(s)&quot;, &quot;cat&quot; | &quot;dog&quot;]&gt;">complete</data-lsp></data-err></span><span style="color:#D6DBDB">()</span></div><span class="error"><span>This expression is not callable.
  Type &#x27;VariantError&lt;[&quot;The handler has not been fully completed. Expected key(s)&quot;, &quot;cat&quot; | &quot;dog&quot;]&gt;&#x27; has no call signatures.</span><span class="code">2349</span></span><span class="error-behind">This expression is not callable.
  Type &#x27;VariantError&lt;[&quot;The handler has not been fully completed. Expected key(s)&quot;, &quot;cat&quot; | &quot;dog&quot;]&gt;&#x27; has no call signatures.</span></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> <data-lsp lsp="const describePetting: (animal: Animal) =&gt; any">describePetting</data-lsp> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Handle one or more cases, object-style.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.with&lt;{
    snake: ({ name }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}&gt;(variations: {
    snake: ({ name }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}): Matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, &quot;type&quot;, {
    snake: ({ name }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}&gt;">with</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">        <data-lsp lsp="(property) snake: ({ name }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string">snake</data-lsp>: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">You let ${</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">} wrap around your hand.</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    }</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-err><data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, { snake: ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string; }&gt;.complete: VariantError&lt;[&quot;The handler has not been fully completed. Expected key(s)&quot;, &quot;cat&quot; | &quot;dog&quot;]&gt;">complete</data-lsp></data-err></span><span style="color:#A8A8B1">()</span></div><span class="error"><span>This expression is not callable.
  Type &#x27;VariantError&lt;[&quot;The handler has not been fully completed. Expected key(s)&quot;, &quot;cat&quot; | &quot;dog&quot;]&gt;&#x27; has no call signatures.</span><span class="code">2349</span></span><span class="error-behind">This expression is not callable.
  Type &#x27;VariantError&lt;[&quot;The handler has not been fully completed. Expected key(s)&quot;, &quot;cat&quot; | &quot;dog&quot;]&gt;&#x27; has no call signatures.</span></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>The matcher will report exactly which keys are missing.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="multi-matching--when">Multi-matching â€” <code>.when()</code><a href="#multi-matching--when" class="hash-link" aria-label="Direct link to multi-matching--when" title="Direct link to multi-matching--when">â€‹</a></h2><p>We need to handle cats and dogs again, but it feels a little repetitive to have duplicate logic for the <code>cat</code> and <code>dog</code> branches since we handle them the same way. The <code>.when()</code> method will allow us to handle multiple subtypes with the same logic. </p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const describePetting: (animal: Animal) =&gt; string">describePetting</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases, object-style.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.with&lt;{
    snake: ({ name }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}&gt;(variations: {
    snake: ({ name }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}): Matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, &quot;type&quot;, {
    snake: ({ name }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}&gt;">with</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1"><data-lsp lsp="(property) snake: ({ name }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string">snake</data-lsp></span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`You let </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> wrap around your hand.`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    })</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, { snake: ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string; }&gt;.when&lt;&quot;cat&quot; | &quot;dog&quot;, ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string&gt;(variations: &quot;cat&quot; | &quot;dog&quot; | (&quot;cat&quot; | &quot;dog&quot;)[], handler: ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#D6DBDB">([</span><span style="color:#63A5A5">&#x27;cat&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;dog&#x27;</span><span style="color:#D6DBDB">], ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`You stroke </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">&#x27;s fur.`</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, { snake: ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string; } &amp; Record&lt;...&gt;&gt;.complete: (options?: CompleteOptions | undefined) =&gt; string">complete</data-lsp></span><span style="color:#D6DBDB">()</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> <data-lsp lsp="const describePetting: (animal: Animal) =&gt; string">describePetting</data-lsp> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Handle one or more cases, object-style.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.with&lt;{
    snake: ({ name }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}&gt;(variations: {
    snake: ({ name }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}): Matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, &quot;type&quot;, {
    snake: ({ name }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}&gt;">with</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">        <data-lsp lsp="(property) snake: ({ name }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string">snake</data-lsp>: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">You let ${</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">} wrap around your hand.</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    }</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, { snake: ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string; }&gt;.when&lt;&quot;cat&quot; | &quot;dog&quot;, ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string&gt;(variations: &quot;cat&quot; | &quot;dog&quot; | (&quot;cat&quot; | &quot;dog&quot;)[], handler: ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">], </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">You stroke ${</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">}&#x27;s fur.</span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, { snake: ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string; } &amp; Record&lt;...&gt;&gt;.complete: (options?: CompleteOptions | undefined) =&gt; string">complete</data-lsp></span><span style="color:#A8A8B1">()</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Note that the <code>name</code> property is available to the handler function, since it is present on both <code>Animal&lt;&#x27;cat&#x27;&gt;</code> and <code>Animal&lt;&#x27;dog&#x27;&gt;</code>. </p><p><code>.when()</code> can handle single cases as well, allowing the previous code to be written as</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const describePetting: (animal: Animal) =&gt; string">describePetting</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.when&lt;&quot;snake&quot;, ({ name }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string&gt;(variations: &quot;snake&quot; | &quot;snake&quot;[], handler: ({ name }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string): Matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | ... 1 more ... | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, &quot;type&quot;, Record&lt;...&gt;&gt; (+1 overload)">when</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;snake&#x27;</span><span style="color:#D6DBDB">, ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`You let </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> wrap around your hand.`</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, Record&lt;&quot;snake&quot;, ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string&gt;&gt;.when&lt;&quot;cat&quot; | &quot;dog&quot;, ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string&gt;(variations: &quot;cat&quot; | &quot;dog&quot; | (&quot;cat&quot; | &quot;dog&quot;)[], handler: ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#D6DBDB">([</span><span style="color:#63A5A5">&#x27;cat&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;dog&#x27;</span><span style="color:#D6DBDB">], ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`You stroke </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">&#x27;s fur.`</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, Record&lt;&quot;snake&quot;, ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string&gt; &amp; Record&lt;...&gt;&gt;.complete: (options?: CompleteOptions | undefined) =&gt; string">complete</data-lsp></span><span style="color:#D6DBDB">()</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> <data-lsp lsp="const describePetting: (animal: Animal) =&gt; string">describePetting</data-lsp> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.when&lt;&quot;snake&quot;, ({ name }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string&gt;(variations: &quot;snake&quot; | &quot;snake&quot;[], handler: ({ name }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string): Matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | ... 1 more ... | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, &quot;type&quot;, Record&lt;...&gt;&gt; (+1 overload)">when</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">snake</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">You let ${</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">} wrap around your hand.</span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, Record&lt;&quot;snake&quot;, ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string&gt;&gt;.when&lt;&quot;cat&quot; | &quot;dog&quot;, ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string&gt;(variations: &quot;cat&quot; | &quot;dog&quot; | (&quot;cat&quot; | &quot;dog&quot;)[], handler: ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">], </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">You stroke ${</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">}&#x27;s fur.</span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, Record&lt;&quot;snake&quot;, ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string&gt; &amp; Record&lt;...&gt;&gt;.complete: (options?: CompleteOptions | undefined) =&gt; string">complete</data-lsp></span><span style="color:#A8A8B1">()</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Alternate Syntax</div><div class="admonitionContent_S0QG"><p><code>.when()</code>, like <code>isType()</code>, can accept variant creators as input. </p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const describePetting: (animal: Animal) =&gt; string">describePetting</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.when&lt;VariantCreator&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}, &quot;type&quot;&gt;, ({ name }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string&gt;(variations: VariantCreator&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}, &quot;type&quot;&gt; | VariantCreator&lt;...&gt;[], handler: ({ name }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF"><data-lsp lsp="(property) snake: VariantCreator&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}, &quot;type&quot;&gt;">snake</data-lsp></span><span style="color:#D6DBDB">, ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`You let </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> wrap around your hand.`</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, Record&lt;&quot;snake&quot;, ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string&gt;&gt;.when&lt;VariantCreator&lt;&quot;cat&quot;, (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}, &quot;type&quot;&gt; | VariantCreator&lt;&quot;dog&quot;, (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}, &quot;type&quot;&gt;, ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string&gt;(variations: VariantCreator&lt;...&gt; | ... 1 more ... | (VariantCreator&lt;...&gt; | VariantCreator&lt;...&gt;)[], handler: ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#D6DBDB">([</span><span style="color:#FFFFFF"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF"><data-lsp lsp="(property) cat: VariantCreator&lt;&quot;cat&quot;, (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}, &quot;type&quot;&gt;">cat</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF"><data-lsp lsp="(property) dog: VariantCreator&lt;&quot;dog&quot;, (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}, &quot;type&quot;&gt;">dog</data-lsp></span><span style="color:#D6DBDB">], ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`You stroke </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">&#x27;s fur.`</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, Record&lt;&quot;snake&quot;, ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string&gt; &amp; Record&lt;...&gt;&gt;.complete: (options?: CompleteOptions | undefined) =&gt; string">complete</data-lsp></span><span style="color:#D6DBDB">()</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> <data-lsp lsp="const describePetting: (animal: Animal) =&gt; string">describePetting</data-lsp> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.when&lt;VariantCreator&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}, &quot;type&quot;&gt;, ({ name }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string&gt;(variations: VariantCreator&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}, &quot;type&quot;&gt; | VariantCreator&lt;...&gt;[], handler: ({ name }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#FFFFFF">.<data-lsp lsp="(property) snake: VariantCreator&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}, &quot;type&quot;&gt;">snake</data-lsp>, </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">You let ${</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">} wrap around your hand.</span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, Record&lt;&quot;snake&quot;, ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string&gt;&gt;.when&lt;VariantCreator&lt;&quot;cat&quot;, (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}, &quot;type&quot;&gt; | VariantCreator&lt;&quot;dog&quot;, (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}, &quot;type&quot;&gt;, ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string&gt;(variations: VariantCreator&lt;...&gt; | ... 1 more ... | (VariantCreator&lt;...&gt; | VariantCreator&lt;...&gt;)[], handler: ({ name }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span><span style="color:#F56565"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#FFFFFF">.<data-lsp lsp="(property) cat: VariantCreator&lt;&quot;cat&quot;, (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}, &quot;type&quot;&gt;">cat</data-lsp>, </span><span style="color:#F56565"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#FFFFFF">.<data-lsp lsp="(property) dog: VariantCreator&lt;&quot;dog&quot;, (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}, &quot;type&quot;&gt;">dog</data-lsp>], </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">You stroke ${</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">}&#x27;s fur.</span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, Record&lt;&quot;snake&quot;, ({ name }: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; string&gt; &amp; Record&lt;...&gt;&gt;.complete: (options?: CompleteOptions | undefined) =&gt; string">complete</data-lsp></span><span style="color:#A8A8B1">()</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="delegating-to-sub-matchers">Delegating to sub-matchers<a href="#delegating-to-sub-matchers" class="hash-link" aria-label="Direct link to Delegating to sub-matchers" title="Direct link to Delegating to sub-matchers">â€‹</a></h3><p>Pair <code>.when()</code> with <code>types()</code> for simple and elegant delegation to subtypes. Let&#x27;s imagine a more complex <code>Animal</code> type, broken down into <code>LandAnimal</code>s and <code>AirAnimal</code>s.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">import</span><span style="color:#D6DBDB"> {</span><span style="color:#FFFFFF"><data-lsp lsp="(alias) const variant: {
    &lt;VM extends RawVariant&gt;(template: GenericTemplate&lt;VM&gt;): Identity&lt;GenericVariantRecord&lt;VM, &quot;type&quot;&gt;&gt;;
    &lt;VM_1 extends RawVariant&gt;(template: VM_1): Identity&lt;...&gt;;
    &lt;T extends string | VariantCreator&lt;...&gt;&gt;(template: T[]): Identity&lt;...&gt;;
}
import variant">variant</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) function fields&lt;T extends {}&gt;(defaults?: Partial&lt;T&gt;): (...args: {} extends T ? ([input: T] | []) : [input: T]) =&gt; T
import fields">fields</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="**Create a variant type**.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;...&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">from</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;variant&#x27;</span></div><div class="line">Â </div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const LandAnimal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">LandAnimal</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variant&lt;{
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}&gt;(template: {
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) cat: (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}">cat</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    furnitureDamaged: number;
}&gt;(defaults?: Partial&lt;{
    name: string;
    furnitureDamaged: number;
}&gt; | undefined): (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}
import fields">fields</data-lsp></span><span style="color:#D6DBDB">&lt;{<data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, <data-lsp lsp="(property) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) dog: (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}">dog</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt;(defaults?: Partial&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt; | undefined): (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}
import fields">fields</data-lsp></span><span style="color:#D6DBDB">&lt;{<data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, <data-lsp lsp="(property) favoriteBall?: string | undefined">favoriteBall</data-lsp></span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1"><data-lsp lsp="(property) snake: (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}">snake</data-lsp></span><span style="color:#D6DBDB">: (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(property) pattern: string">pattern</data-lsp></span><span style="color:#D6DBDB">}),</span></div><div class="line"><span style="color:#D6DBDB">})</span></div><div class="line"><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> <data-lsp lsp="type LandAnimal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">LandAnimal</data-lsp> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> <data-lsp lsp="**Create a variant type**.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;...&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp>&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const LandAnimal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">LandAnimal</data-lsp></span><span style="color:#D6DBDB">&gt;;</span></div><div class="line">Â </div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const AirAnimal: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}">AirAnimal</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variant&lt;{
    bat: (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    };
    bird: (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    };
}&gt;(template: {
    bat: (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    };
    bird: (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) bat: (input: {
    name: string;
    favoriteFruit: string;
}) =&gt; {
    name: string;
    favoriteFruit: string;
}">bat</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    favoriteFruit: string;
}&gt;(defaults?: Partial&lt;{
    name: string;
    favoriteFruit: string;
}&gt; | undefined): (input: {
    name: string;
    favoriteFruit: string;
}) =&gt; {
    name: string;
    favoriteFruit: string;
}
import fields">fields</data-lsp></span><span style="color:#D6DBDB">&lt;{<data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, <data-lsp lsp="(property) favoriteFruit: string">favoriteFruit</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) bird: (input: {
    name: string;
    featherColor: string;
}) =&gt; {
    name: string;
    featherColor: string;
}">bird</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    featherColor: string;
}&gt;(defaults?: Partial&lt;{
    name: string;
    featherColor: string;
}&gt; | undefined): (input: {
    name: string;
    featherColor: string;
}) =&gt; {
    name: string;
    featherColor: string;
}
import fields">fields</data-lsp></span><span style="color:#D6DBDB">&lt;{<data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, <data-lsp lsp="(property) featherColor: string">featherColor</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">})</span></div><div class="line"><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> <data-lsp lsp="type AirAnimal = {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    type: &quot;bird&quot;;
    name: string;
    featherColor: string;
}">AirAnimal</data-lsp> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> <data-lsp lsp="**Create a variant type**.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;...&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp>&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const AirAnimal: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}">AirAnimal</data-lsp></span><span style="color:#D6DBDB">&gt;;</span></div><div class="line">Â </div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Animal: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;...&gt;;
    dog: VariantCreator&lt;...&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variant&lt;{
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;...&gt;;
    dog: VariantCreator&lt;...&gt;;
    snake: VariantCreator&lt;...&gt;;
}&gt;(template: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;...&gt;;
    dog: VariantCreator&lt;...&gt;;
    snake: VariantCreator&lt;...&gt;;
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span><span style="color:#FFFFFF"><data-lsp lsp="const LandAnimal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">LandAnimal</data-lsp></span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span><span style="color:#FFFFFF"><data-lsp lsp="const AirAnimal: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}">AirAnimal</data-lsp></span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">})</span></div><div class="line"><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} | {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    type: &quot;bird&quot;;
    name: string;
    featherColor: string;
}">Animal</data-lsp> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> <data-lsp lsp="**Create a variant type**.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;...&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp>&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Animal: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;...&gt;;
    dog: VariantCreator&lt;...&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#D6DBDB">&gt;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">import</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span><span style="color:#F56565"><data-lsp lsp="(alias) const variant: {
    &lt;VM extends RawVariant&gt;(template: GenericTemplate&lt;VM&gt;): Identity&lt;GenericVariantRecord&lt;VM, &quot;type&quot;&gt;&gt;;
    &lt;VM_1 extends RawVariant&gt;(template: VM_1): Identity&lt;...&gt;;
    &lt;T extends string | VariantCreator&lt;...&gt;&gt;(template: T[]): Identity&lt;...&gt;;
}
import variant">variant</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) function fields&lt;T extends {}&gt;(defaults?: Partial&lt;T&gt;): (...args: {} extends T ? ([input: T] | []) : [input: T]) =&gt; T
import fields">fields</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;...&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">from</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">variant</span><span style="color:#FFFFFF">&#x27;</span></div><div class="line">Â </div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const LandAnimal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">LandAnimal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variant&lt;{
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}&gt;(template: {
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) cat: (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}">cat</data-lsp>: <data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    furnitureDamaged: number;
}&gt;(defaults?: Partial&lt;{
    name: string;
    furnitureDamaged: number;
}&gt; | undefined): (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}
import fields">fields</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) dog: (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}">dog</data-lsp>: <data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt;(defaults?: Partial&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt; | undefined): (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}
import fields">fields</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) favoriteBall?: string | undefined">favoriteBall</data-lsp></span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) snake: (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}">snake</data-lsp>: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) pattern: string">pattern</data-lsp></span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="type LandAnimal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">LandAnimal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;...&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const LandAnimal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">LandAnimal</data-lsp></span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div><div class="line">Â </div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const AirAnimal: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}">AirAnimal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variant&lt;{
    bat: (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    };
    bird: (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    };
}&gt;(template: {
    bat: (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    };
    bird: (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) bat: (input: {
    name: string;
    favoriteFruit: string;
}) =&gt; {
    name: string;
    favoriteFruit: string;
}">bat</data-lsp>: <data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    favoriteFruit: string;
}&gt;(defaults?: Partial&lt;{
    name: string;
    favoriteFruit: string;
}&gt; | undefined): (input: {
    name: string;
    favoriteFruit: string;
}) =&gt; {
    name: string;
    favoriteFruit: string;
}
import fields">fields</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) favoriteFruit: string">favoriteFruit</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) bird: (input: {
    name: string;
    featherColor: string;
}) =&gt; {
    name: string;
    featherColor: string;
}">bird</data-lsp>: <data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    featherColor: string;
}&gt;(defaults?: Partial&lt;{
    name: string;
    featherColor: string;
}&gt; | undefined): (input: {
    name: string;
    featherColor: string;
}) =&gt; {
    name: string;
    featherColor: string;
}
import fields">fields</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) featherColor: string">featherColor</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="type AirAnimal = {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    type: &quot;bird&quot;;
    name: string;
    featherColor: string;
}">AirAnimal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;...&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const AirAnimal: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}">AirAnimal</data-lsp></span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div><div class="line">Â </div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Animal: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;...&gt;;
    dog: VariantCreator&lt;...&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variant&lt;{
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;...&gt;;
    dog: VariantCreator&lt;...&gt;;
    snake: VariantCreator&lt;...&gt;;
}&gt;(template: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;...&gt;;
    dog: VariantCreator&lt;...&gt;;
    snake: VariantCreator&lt;...&gt;;
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span><span style="color:#F56565"><data-lsp lsp="const LandAnimal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">LandAnimal</data-lsp></span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span><span style="color:#F56565"><data-lsp lsp="const AirAnimal: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}">AirAnimal</data-lsp></span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="type Animal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} | {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    type: &quot;bird&quot;;
    name: string;
    featherColor: string;
}">Animal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;...&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Animal: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;...&gt;;
    dog: VariantCreator&lt;...&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#A8A8B1">&gt;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Let&#x27;s assume the existence of two functionsâ€”<code>describeLandAnimal</code> and <code>describeAirAnimal</code>.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">declare</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">function</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="function describeLandAnimal(animal: LandAnimal): string">describeLandAnimal</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type LandAnimal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">LandAnimal</data-lsp>)</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#9BB7A7">declare</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">function</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="function describeAirAnimal(animal: AirAnimal): string">describeAirAnimal</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    type: &quot;bird&quot;;
    name: string;
    featherColor: string;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type AirAnimal = {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    type: &quot;bird&quot;;
    name: string;
    featherColor: string;
}">AirAnimal</data-lsp>)</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">;</span></div><div class="line">Â </div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">function</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="function describeAnimal(animal: Animal): string">describeAnimal</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} | {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} | {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}">Animal</data-lsp>)</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} | {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}, string&gt;(target: string | ... 4 more ... | {
    ...;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} | {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}">animal</data-lsp></span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">        .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; } | { type: &quot;bat&quot;; name: string; favoriteFruit: string; } | { ...; }, &quot;type&quot;, {}&gt;.when&lt;TypesOf&lt;{
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}&gt;, (animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | ... 1 more ... | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string&gt;(variations: TypesOf&lt;...&gt; | TypesOf&lt;...&gt;[], handler: (animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | ... 1 more ... | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#F9F7F1"><data-lsp lsp="(alias) types&lt;{
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}&gt;(content: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}): TypesOf&lt;...&gt;[] (+2 overloads)
import types">types</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="const LandAnimal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">LandAnimal</data-lsp></span><span style="color:#D6DBDB">), </span><span style="color:#FFFFFF"><data-lsp lsp="function describeLandAnimal(animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): string">describeLandAnimal</data-lsp></span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">        .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; } | { type: &quot;bat&quot;; name: string; favoriteFruit: string; } | { ...; }, &quot;type&quot;, Record&lt;...&gt;&gt;.when&lt;TypesOf&lt;{
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}&gt;, (animal: {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}) =&gt; string&gt;(variations: TypesOf&lt;...&gt; | TypesOf&lt;...&gt;[], handler: (animal: {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}) =&gt; string): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#F9F7F1"><data-lsp lsp="(alias) types&lt;{
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}&gt;(content: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}): TypesOf&lt;...&gt;[] (+2 overloads)
import types">types</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="const AirAnimal: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}">AirAnimal</data-lsp></span><span style="color:#D6DBDB">), </span><span style="color:#FFFFFF"><data-lsp lsp="function describeAirAnimal(animal: {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}): string">describeAirAnimal</data-lsp></span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">        .</span><span style="color:#F9F7F1"><data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; } | { type: &quot;bat&quot;; name: string; favoriteFruit: string; } | { ...; }, &quot;type&quot;, Record&lt;...&gt; &amp; Record&lt;...&gt;&gt;.complete: (options?: CompleteOptions | undefined) =&gt; string">complete</data-lsp></span><span style="color:#D6DBDB">()</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">declare</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">function</span><span style="color:#FFFFFF"> <data-lsp lsp="function describeLandAnimal(animal: LandAnimal): string">describeLandAnimal</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type LandAnimal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">LandAnimal</data-lsp>)</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">declare</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">function</span><span style="color:#FFFFFF"> <data-lsp lsp="function describeAirAnimal(animal: AirAnimal): string">describeAirAnimal</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    type: &quot;bird&quot;;
    name: string;
    featherColor: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type AirAnimal = {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    type: &quot;bird&quot;;
    name: string;
    featherColor: string;
}">AirAnimal</data-lsp>)</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">;</span></div><div class="line">Â </div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">function</span><span style="color:#FFFFFF"> <data-lsp lsp="function describeAnimal(animal: Animal): string">describeAnimal</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} | {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type Animal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} | {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}">Animal</data-lsp>)</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} | {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}, string&gt;(target: string | ... 4 more ... | {
    ...;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} | {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}">animal</data-lsp></span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">        .<data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; } | { type: &quot;bat&quot;; name: string; favoriteFruit: string; } | { ...; }, &quot;type&quot;, {}&gt;.when&lt;TypesOf&lt;{
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}&gt;, (animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | ... 1 more ... | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string&gt;(variations: TypesOf&lt;...&gt; | TypesOf&lt;...&gt;[], handler: (animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | ... 1 more ... | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF"><data-lsp lsp="(alias) types&lt;{
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}&gt;(content: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}): TypesOf&lt;...&gt;[] (+2 overloads)
import types">types</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="const LandAnimal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">LandAnimal</data-lsp></span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="function describeLandAnimal(animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): string">describeLandAnimal</data-lsp></span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">        .<data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; } | { type: &quot;bat&quot;; name: string; favoriteFruit: string; } | { ...; }, &quot;type&quot;, Record&lt;...&gt;&gt;.when&lt;TypesOf&lt;{
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}&gt;, (animal: {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}) =&gt; string&gt;(variations: TypesOf&lt;...&gt; | TypesOf&lt;...&gt;[], handler: (animal: {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}) =&gt; string): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF"><data-lsp lsp="(alias) types&lt;{
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}&gt;(content: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}): TypesOf&lt;...&gt;[] (+2 overloads)
import types">types</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="const AirAnimal: {
    bat: VariantCreator&lt;&quot;bat&quot;, (input: {
        name: string;
        favoriteFruit: string;
    }) =&gt; {
        name: string;
        favoriteFruit: string;
    }, &quot;type&quot;&gt;;
    bird: VariantCreator&lt;&quot;bird&quot;, (input: {
        name: string;
        featherColor: string;
    }) =&gt; {
        name: string;
        featherColor: string;
    }, &quot;type&quot;&gt;;
}">AirAnimal</data-lsp></span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="function describeAirAnimal(animal: {
    type: &quot;bat&quot;;
    name: string;
    favoriteFruit: string;
} | {
    ...;
}): string">describeAirAnimal</data-lsp></span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">        .<data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; } | { type: &quot;bat&quot;; name: string; favoriteFruit: string; } | { ...; }, &quot;type&quot;, Record&lt;...&gt; &amp; Record&lt;...&gt;&gt;.complete: (options?: CompleteOptions | undefined) =&gt; string">complete</data-lsp></span><span style="color:#A8A8B1">()</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>The <code>describeAnimal</code> function becomes a dispatcher, delegating the specific logic for subsets of the union to smaller functions tailored to them. It&#x27;s quite possible that <code>describeLandAnimal</code> or <code>describeAirAnimal</code> will <em>themselves</em> call <code>match()</code> or <code>matcher()</code> to resolve their cases. Then again, they may be using switch statements or branching ifs. As adherents of encapsulation, the implementation details are frankly none of our concern. All of the above approaches and more (lookup tables, observable mappings) will work with this library.</p><p>This pattern appears frequently in react and redux, where multiple smaller reducers may be organized into an overall <code>rootReducer</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="constants--register">Constants â€” <code>.register()</code><a href="#constants--register" class="hash-link" aria-label="Direct link to constants--register" title="Direct link to constants--register">â€‹</a></h2><p>A block of values can be resolved to a set of constants via <code>.register()</code>, a function with a similar syntax to <code>.with()</code>.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const animalEmoji: (animal: Animal) =&gt; string">animalEmoji</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Register a series of options as a lookup table.

```ts
const getSound = (a: Animal) =&gt; matcher(a)
    .register({
        cat: &#x27;purr&#x27;,
        dog: &#x27;woof&#x27;,
        snake: &#x27;hiss&#x27;,
    })
    .complete()
```

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.register&lt;{
    dog: string;
    snake: string;
}&gt;(table: {
    dog: string;
    snake: string;
}): Matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, &quot;type&quot;, LookupTableToHandler&lt;...&gt;&gt;">register</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">        <data-lsp lsp="(property) dog: string">dog</data-lsp>: </span><span style="color:#63A5A5">&#x27;ðŸ•&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        <data-lsp lsp="(property) snake: string">snake</data-lsp>: </span><span style="color:#63A5A5">&#x27;ðŸ&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    })</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, LookupTableToHandler&lt;{ dog: string; snake: string; }&gt;&gt;.when&lt;&quot;cat&quot;, ({ furnitureDamaged }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
}) =&gt; &quot;ðŸ˜º&quot; | &quot;ðŸ˜¾&quot;&gt;(variations: &quot;cat&quot; | &quot;cat&quot;[], handler: ({ furnitureDamaged }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
}) =&gt; &quot;ðŸ˜º&quot; | &quot;ðŸ˜¾&quot;): Matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, &quot;type&quot;, LookupTableToHandler&lt;...&gt; &amp; Record&lt;...&gt;&gt; (+1 overload)">when</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;cat&#x27;</span><span style="color:#D6DBDB">, ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">==</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">0</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;ðŸ˜º&#x27;</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;ðŸ˜¾&#x27;</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, LookupTableToHandler&lt;{ dog: string; snake: string; }&gt; &amp; Record&lt;...&gt;&gt;.complete: (options?: CompleteOptions | undefined) =&gt; string">complete</data-lsp></span><span style="color:#D6DBDB">()</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> <data-lsp lsp="const animalEmoji: (animal: Animal) =&gt; string">animalEmoji</data-lsp> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Register a series of options as a lookup table.

```ts
const getSound = (a: Animal) =&gt; matcher(a)
    .register({
        cat: &#x27;purr&#x27;,
        dog: &#x27;woof&#x27;,
        snake: &#x27;hiss&#x27;,
    })
    .complete()
```

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.register&lt;{
    dog: string;
    snake: string;
}&gt;(table: {
    dog: string;
    snake: string;
}): Matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, &quot;type&quot;, LookupTableToHandler&lt;...&gt;&gt;">register</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">        <data-lsp lsp="(property) dog: string">dog</data-lsp>: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">ðŸ•</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        <data-lsp lsp="(property) snake: string">snake</data-lsp>: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">ðŸ</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    }</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, LookupTableToHandler&lt;{ dog: string; snake: string; }&gt;&gt;.when&lt;&quot;cat&quot;, ({ furnitureDamaged }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
}) =&gt; &quot;ðŸ˜º&quot; | &quot;ðŸ˜¾&quot;&gt;(variations: &quot;cat&quot; | &quot;cat&quot;[], handler: ({ furnitureDamaged }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
}) =&gt; &quot;ðŸ˜º&quot; | &quot;ðŸ˜¾&quot;): Matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, &quot;type&quot;, LookupTableToHandler&lt;...&gt; &amp; Record&lt;...&gt;&gt; (+1 overload)">when</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="(parameter) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">==</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">0</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">ðŸ˜º</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">ðŸ˜¾</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="(property) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, LookupTableToHandler&lt;{ dog: string; snake: string; }&gt; &amp; Record&lt;...&gt;&gt;.complete: (options?: CompleteOptions | undefined) =&gt; string">complete</data-lsp></span><span style="color:#A8A8B1">()</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Rationale</div><div class="admonitionContent_S0QG"><p>I registered dog (ðŸ•) and snake (ðŸ) directly, but I used <code>.when()</code> to handle cats because I wanted to perform some logic based on the cat&#x27;s properties. Well-behaved cats will be shown smiling (ðŸ˜º) while cats with a history of poor behavior will frown (ðŸ˜¾).</p></div></div><p>This flexibility in approach is the beauty of matcher. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="terminals">Terminals<a href="#terminals" class="hash-link" aria-label="Direct link to Terminals" title="Direct link to Terminals">â€‹</a></h2><p>A <strong>terminal</strong> is some matcher method that executes the handler immediately. The ideal terminal is <code>.complete()</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="complete"><code>.complete()</code><a href="#complete" class="hash-link" aria-label="Direct link to complete" title="Direct link to complete">â€‹</a></h3><p>Through the magic of conditional types, <code>.complete()</code> will either pose no obstacle at all, or complain about keys.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="else"><code>.else()</code><a href="#else" class="hash-link" aria-label="Direct link to else" title="Direct link to else">â€‹</a></h3><p>Handle the remaining cases with a function. Note that snake, since it&#x27;s already been handled, is not part of the input union.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const hasScales: (animal: Animal) =&gt; boolean">hasScales</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.when&lt;&quot;snake&quot;, (_: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; boolean&gt;(variations: &quot;snake&quot; | &quot;snake&quot;[], handler: (_: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; boolean): Matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, &quot;type&quot;, Record&lt;...&gt;&gt; (+1 overload)">when</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;snake&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) _: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">_</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">true</span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Execute the match. If the target type has been explicitly handled, use that logic.
Otherwise use the function passed here.

This is a **terminal** and resolves the matcher.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, Record&lt;&quot;snake&quot;, (_: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; boolean&gt;&gt;.else&lt;(_: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; boolean&gt;(func: (_: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; boolean): boolean">else</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) _: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}" style="border-bottom:solid 2px lightgrey">_</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">false</span><span style="color:#D6DBDB">)</span></div><div class="meta-line"><span class="popover-prefix">         </span><span class="popover"><div class="arrow"></div>(parameter) _: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> <data-lsp lsp="const hasScales: (animal: Animal) =&gt; boolean">hasScales</data-lsp> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.when&lt;&quot;snake&quot;, (_: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; boolean&gt;(variations: &quot;snake&quot; | &quot;snake&quot;[], handler: (_: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; boolean): Matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, &quot;type&quot;, Record&lt;...&gt;&gt; (+1 overload)">when</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">snake</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(parameter) _: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">_</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">true)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Execute the match. If the target type has been explicitly handled, use that logic.
Otherwise use the function passed here.

This is a **terminal** and resolves the matcher.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, Record&lt;&quot;snake&quot;, (_: { type: &quot;snake&quot;; name: string; pattern: string; }) =&gt; boolean&gt;&gt;.else&lt;(_: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; boolean&gt;(func: (_: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; boolean): boolean">else</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) _: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}" style="border-bottom:solid 2px lightgrey">_</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">false)</span></div><div class="meta-line"><span class="popover-prefix">         </span><span class="popover"><div class="arrow"></div>(parameter) _: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_LWe7" id="execute"><code>.execute()</code><a href="#execute" class="hash-link" aria-label="Direct link to execute" title="Direct link to execute">â€‹</a></h3><p>Immediately execute the matcher, whether or not every case has been handled. The matcher will return undefined if it runs into an unhandled case.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const ballPreference: (animal: Animal) =&gt; string | undefined">ballPreference</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.when&lt;&quot;dog&quot;, ({ favoriteBall }: {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string | undefined&gt;(variations: &quot;dog&quot; | &quot;dog&quot;[], handler: ({ favoriteBall }: {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string | undefined): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;dog&#x27;</span><span style="color:#D6DBDB">, ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) favoriteBall: string | undefined">favoriteBall</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) favoriteBall: string | undefined">favoriteBall</data-lsp></span><span style="color:#D6DBDB">)</span></div><div class="line"><span style="color:#D6DBDB">    .</span><span style="color:#F9F7F1"><data-lsp lsp="Immediately execute the matcher. Exhaustiveness is not guaranteed.

This is a **terminal** and resolves the matcher.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, Record&lt;&quot;dog&quot;, ({ favoriteBall }: { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; }) =&gt; string | undefined&gt;&gt;.execute(): string | undefined">execute</data-lsp></span><span style="color:#D6DBDB">();</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> <data-lsp lsp="const ballPreference: (animal: Animal) =&gt; string | undefined">ballPreference</data-lsp> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Handle one or more cases with a set of types and a handler.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.when&lt;&quot;dog&quot;, ({ favoriteBall }: {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string | undefined&gt;(variations: &quot;dog&quot; | &quot;dog&quot;[], handler: ({ favoriteBall }: {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string | undefined): Matcher&lt;...&gt; (+1 overload)">when</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) favoriteBall: string | undefined">favoriteBall</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="(parameter) favoriteBall: string | undefined">favoriteBall</data-lsp></span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#FFFFFF">    .<data-lsp lsp="Immediately execute the matcher. Exhaustiveness is not guaranteed.

This is a **terminal** and resolves the matcher.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, Record&lt;&quot;dog&quot;, ({ favoriteBall }: { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; }) =&gt; string | undefined&gt;&gt;.execute(): string | undefined">execute</data-lsp></span><span style="color:#A8A8B1">()</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Dogs are the only case where ball preference matters, and every other case can simply resolve to void.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exhaust"><code>.exhaust()</code><a href="#exhaust" class="hash-link" aria-label="Direct link to exhaust" title="Direct link to exhaust">â€‹</a></h3><p>Handle all remaining cases. Unlike <code>.with()</code>, <code>.exhaust()</code> is not content with one case, it requires every unhandled case be resolved then and there.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const describeLounging: (animal: Animal) =&gt; string">describeLounging</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#D6DBDB">).</span><span style="color:#F9F7F1"><data-lsp lsp="Handle all unhandled cases and immediately execute.

&gt; **Exhaust** â€” to consume entirely, _Merriam-Webster_

This is a **terminal** and resolves the matcher.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.exhaust&lt;{
    cat: ({ furnitureDamaged }: {
        type: &quot;cat&quot;;
        name: string;
        furnitureDamaged: number;
    }) =&gt; string;
    dog: ({ favoriteBall }: {
        type: &quot;dog&quot;;
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; string;
    snake: ({ pattern }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}&gt;(remainingCases: {
    cat: ({ furnitureDamaged }: {
        type: &quot;cat&quot;;
        name: string;
        furnitureDamaged: number;
    }) =&gt; string;
    dog: ({ favoriteBall }: {
        type: &quot;dog&quot;;
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; string;
    snake: ({ pattern }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}): string">exhaust</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1"><data-lsp lsp="(property) cat: ({ furnitureDamaged }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
}) =&gt; string">cat</data-lsp></span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const term: &quot;sofa&quot; | &quot;carpet&quot;">term</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">==</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">0</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;sofa&#x27;</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;carpet&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`preening on the </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="const term: &quot;sofa&quot; | &quot;carpet&quot;">term</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">    },</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1"><data-lsp lsp="(property) dog: ({ favoriteBall }: {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string">dog</data-lsp></span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) favoriteBall: string | undefined">favoriteBall</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const ballTerm: string">ballTerm</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) favoriteBall: string | undefined">favoriteBall</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) favoriteBall: string">favoriteBall</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> `</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`playing with a </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="const ballTerm: string">ballTerm</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">ball`</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">    },</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1"><data-lsp lsp="(property) snake: ({ pattern }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string">snake</data-lsp></span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`sunning their </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5"> skin`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">})</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> <data-lsp lsp="const describeLounging: (animal: Animal) =&gt; string">describeLounging</data-lsp> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">.<data-lsp lsp="Handle all unhandled cases and immediately execute.

&gt; **Exhaust** â€” to consume entirely, _Merriam-Webster_

This is a **terminal** and resolves the matcher.

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.exhaust&lt;{
    cat: ({ furnitureDamaged }: {
        type: &quot;cat&quot;;
        name: string;
        furnitureDamaged: number;
    }) =&gt; string;
    dog: ({ favoriteBall }: {
        type: &quot;dog&quot;;
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; string;
    snake: ({ pattern }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}&gt;(remainingCases: {
    cat: ({ furnitureDamaged }: {
        type: &quot;cat&quot;;
        name: string;
        furnitureDamaged: number;
    }) =&gt; string;
    dog: ({ favoriteBall }: {
        type: &quot;dog&quot;;
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; string;
    snake: ({ pattern }: {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; string;
}): string">exhaust</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) cat: ({ furnitureDamaged }: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
}) =&gt; string">cat</data-lsp>: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const term: &quot;sofa&quot; | &quot;carpet&quot;">term</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="(parameter) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">==</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">0</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">sofa</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">carpet</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">preening on the ${</span><span style="color:#F56565"><data-lsp lsp="const term: &quot;sofa&quot; | &quot;carpet&quot;">term</data-lsp></span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">    },</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) dog: ({ favoriteBall }: {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; string">dog</data-lsp>: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) favoriteBall: string | undefined">favoriteBall</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const ballTerm: string">ballTerm</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="(parameter) favoriteBall: string | undefined">favoriteBall</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">${</span><span style="color:#F56565"><data-lsp lsp="(parameter) favoriteBall: string">favoriteBall</data-lsp></span><span style="color:#A8A8B1">} </span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">playing with a ${</span><span style="color:#F56565"><data-lsp lsp="const ballTerm: string">ballTerm</data-lsp></span><span style="color:#A8A8B1">}ball</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">    },</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) snake: ({ pattern }: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; string">snake</data-lsp>: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">sunning their ${</span><span style="color:#F56565"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#A8A8B1">} skin</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>If any cases have already been handled, they need not be included.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Code sample incoming, post <code>dev.25</code></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lookup"><code>.lookup()</code><a href="#lookup" class="hash-link" aria-label="Direct link to lookup" title="Direct link to lookup">â€‹</a></h3><p>Similar to exhaust, handle every unresolved case but do so as a lookup table. This can be quite succinct in use.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const cuteName: (animal: Animal) =&gt; string">cuteName</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#D6DBDB">).</span><span style="color:#F9F7F1"><data-lsp lsp="Provide an exhaustive table of the unhandled options and look up which value
to use based on the instance.

This is a **terminal** and resolves the matcher.

```ts
const getSound = (a: Animal) =&gt; matcher(a)
    .lookup({
        cat: &#x27;purr&#x27;,
        dog: &#x27;woof&#x27;,
        snake: &#x27;hiss&#x27;,
    })
```

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.lookup&lt;{
    cat: string;
    dog: string;
    snake: string;
}&gt;(table: {
    cat: string;
    dog: string;
    snake: string;
}): string">lookup</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) cat: string">cat</data-lsp>: </span><span style="color:#63A5A5">&#x27;kitty&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) dog: string">dog</data-lsp>: </span><span style="color:#63A5A5">&#x27;puppy&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) snake: string">snake</data-lsp>: </span><span style="color:#63A5A5">&#x27;snek&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">})</span></div><div class="line">Â </div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const cutie: string">cutie</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const cuteName: (animal: Animal) =&gt; string">cuteName</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1"><data-lsp lsp="(property) dog: (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}">dog</data-lsp></span><span style="color:#D6DBDB">({<data-lsp lsp="(property) name: string">name</data-lsp>: </span><span style="color:#63A5A5">&#x27;Twix&#x27;</span><span style="color:#D6DBDB">})); </span><span style="color:#506565">// puppy</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> <data-lsp lsp="const cuteName: (animal: Animal) =&gt; string">cuteName</data-lsp> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1"><data-lsp lsp="type Animal&lt;T extends TypeNames&lt;{ cat: VariantCreator&lt;&quot;cat&quot;, (input: { name: string; furnitureDamaged: number; }) =&gt; { name: string; furnitureDamaged: number; }, &quot;type&quot;&gt;; dog: VariantCreator&lt;&quot;dog&quot;, (input: { name: string; favoriteBall?: string | undefined; }) =&gt; { name: string; favoriteBall?: string | undefined; }, &quot;type&quot;&gt;; snake: VariantCreator&lt;...&gt;; }&gt; = undefined&gt; = T extends undefined ? {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} : T extends TypesOf&lt;...&gt; ? Extract&lt;...&gt; | ... 1 more ... | Extract&lt;...&gt; : {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) matcher&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}, string&gt;(target: string | {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}): Matcher&lt;...&gt;
import matcher">matcher</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) animal: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">animal</data-lsp></span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">.<data-lsp lsp="Provide an exhaustive table of the unhandled options and look up which value
to use based on the instance.

This is a **terminal** and resolves the matcher.

```ts
const getSound = (a: Animal) =&gt; matcher(a)
    .lookup({
        cat: &#x27;purr&#x27;,
        dog: &#x27;woof&#x27;,
        snake: &#x27;hiss&#x27;,
    })
```

(method) Matcher&lt;{ type: &quot;cat&quot;; name: string; furnitureDamaged: number; } | { type: &quot;dog&quot;; name: string; favoriteBall?: string | undefined; } | { type: &quot;snake&quot;; name: string; pattern: string; }, &quot;type&quot;, {}&gt;.lookup&lt;{
    cat: string;
    dog: string;
    snake: string;
}&gt;(table: {
    cat: string;
    dog: string;
    snake: string;
}): string">lookup</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) cat: string">cat</data-lsp>: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">kitty</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) dog: string">dog</data-lsp>: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">puppy</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) snake: string">snake</data-lsp>: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">snek</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div><div class="line">Â </div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const cutie: string">cutie</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="const cuteName: (animal: Animal) =&gt; string">cuteName</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#FFFFFF">.<data-lsp lsp="(property) dog: (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
}">dog</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{<data-lsp lsp="(property) name: string">name</data-lsp>: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Twix</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF">; </span><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> puppy</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>If any cases have already been handled, they need not be included.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Code sample incoming, post <code>dev.25</code></p></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/variant/docs/next/book/match"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Match</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/variant/docs/next/book/catalog"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Catalog</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#with" class="table-of-contents__link toc-highlight"><code>.with()</code></a></li><li><a href="#multi-matching--when" class="table-of-contents__link toc-highlight">Multi-matching â€” <code>.when()</code></a><ul><li><a href="#delegating-to-sub-matchers" class="table-of-contents__link toc-highlight">Delegating to sub-matchers</a></li></ul></li><li><a href="#constants--register" class="table-of-contents__link toc-highlight">Constants â€” <code>.register()</code></a></li><li><a href="#terminals" class="table-of-contents__link toc-highlight">Terminals</a><ul><li><a href="#complete" class="table-of-contents__link toc-highlight"><code>.complete()</code></a></li><li><a href="#else" class="table-of-contents__link toc-highlight"><code>.else()</code></a></li><li><a href="#execute" class="table-of-contents__link toc-highlight"><code>.execute()</code></a></li><li><a href="#exhaust" class="table-of-contents__link toc-highlight"><code>.exhaust()</code></a></li><li><a href="#lookup" class="table-of-contents__link toc-highlight"><code>.lookup()</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/variant/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/api">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Related</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">TypeScript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://reasonml.github.io/docs/en/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item">ReasonML Variants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.npmjs.com/package/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item">NPM package<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Variant Contributors</div></div></div></footer></div>
<script src="/variant/assets/js/runtime~main.9f57bcc0.js"></script>
<script src="/variant/assets/js/main.fb419d95.js"></script>
</body>
</html>